<!doctype html><html lang="en"><head><script>!function(n,e){var t,o,i,c=[],f={passive:!0,capture:!0},r=new Date,a="pointerup",u="pointercancel";function p(n,c){t||(t=c,o=n,i=new Date,w(e),s())}function s(){o>=0&&o<i-r&&(c.forEach((function(n){n(o,t)})),c=[])}function l(t){if(t.cancelable){var o=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,o){function i(){p(t,o),r()}function c(){r()}function r(){e(a,i,f),e(u,c,f)}n(a,i,f),n(u,c,f)}(o,t):p(o,t)}}function w(n){["click","mousedown","keydown","touchstart","pointerdown"].forEach((function(e){n(e,l,f)}))}w(n),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){c.push(n),s()}}(addEventListener,removeEventListener)</script><script defer src="https://cdn.optimizely.com/js/16180790160.js"></script><title data-rh="true">Integrating GDB support in an emulator | by Marcin Mikołajczyk | VirtusLab | Medium</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2020-05-04T08:59:17.079Z"/><meta data-rh="true" name="title" content="Integrating GDB support in an emulator | by Marcin Mikołajczyk | VirtusLab | Medium"/><meta data-rh="true" property="og:title" content="Integrating GDB support in an emulator"/><meta data-rh="true" property="twitter:title" content="Integrating GDB support in an emulator"/><meta data-rh="true" name="twitter:site" content="@VirtusLab"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/ef41ff13f301"/><meta data-rh="true" property="al:android:url" content="medium://p/ef41ff13f301"/><meta data-rh="true" property="al:ios:url" content="medium://p/ef41ff13f301"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Writing an emulator was one of the project ideas that I had in my mind for “sometime in the future”. Turns out, during the mandatory quarantine, I suddenly had much more free time and decided to put…"/><meta data-rh="true" property="og:description" content="Writing an emulator was one of the project ideas that I had in my mind for “sometime in the future”. Turns out, during the mandatory…"/><meta data-rh="true" property="twitter:description" content="Writing an emulator was one of the project ideas that I had in my mind for “sometime in the future”. Turns out, during the mandatory…"/><meta data-rh="true" property="og:url" content="https://medium.com/virtuslab/integrating-gdb-support-in-an-emulator-ef41ff13f301"/><meta data-rh="true" property="al:web:url" content="https://medium.com/virtuslab/integrating-gdb-support-in-an-emulator-ef41ff13f301"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1200/1*b6kdm_3iEOGKipw1GYJtgA.jpeg"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/1*b6kdm_3iEOGKipw1GYJtgA.jpeg"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@mmikolajczyk"/><meta data-rh="true" name="author" content="Marcin Mikołajczyk"/><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" value="Reading time"/><meta data-rh="true" name="twitter:data1" value="8 min read"/><meta data-rh="true" name="parsely-post-id" content="ef41ff13f301"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://medium.com/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/fit/c/120/120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/fit/c/76/76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/fit/c/60/60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"/><link data-rh="true" rel="author" href="https://medium.com/@mmikolajczyk"/><link data-rh="true" rel="canonical" href="integrating-gdb-support-in-an-emulator-ef41ff13f301.html"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/ef41ff13f301"/><link data-rh="true" rel="icon" href="https://miro.medium.com/1*m-R_BkNf1Qjr1YbyOIJY2w.png"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*b6kdm_3iEOGKipw1GYJtgA.jpeg"],"url":"https:\u002F\u002Fmedium.com\u002Fvirtuslab\u002Fintegrating-gdb-support-in-an-emulator-ef41ff13f301","dateCreated":"2020-05-04T08:59:17.079Z","datePublished":"2020-05-04T08:59:17.079Z","dateModified":"2020-05-04T10:14:55.107Z","headline":"Integrating GDB support in an emulator - VirtusLab - Medium","name":"Integrating GDB support in an emulator - VirtusLab - Medium","description":"Writing an emulator was one of the project ideas that I had in my mind for “sometime in the future”. Turns out, during the mandatory quarantine, I suddenly had much more free time and decided to put…","identifier":"ef41ff13f301","keywords":["Lite:true","Tag:Tech","Tag:Emulation","Tag:Rust","Tag:Gdb","Topic:Programming","Publication:virtuslab","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:4"],"author":{"@type":"Person","name":"Marcin Mikołajczyk","url":"https:\u002F\u002Fmedium.com\u002F@mmikolajczyk"},"creator":["Marcin Mikołajczyk"],"publisher":{"@type":"Organization","name":"VirtusLab","url":"https:\u002F\u002Fmedium.com\u002Fvirtuslab","logo":{"@type":"ImageObject","width":153,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F306\u002F1*1qj8ByGnlHyGPx490RUErw.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002Fvirtuslab\u002Fintegrating-gdb-support-in-an-emulator-ef41ff13f301"}</script><script data-rh="true" >(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script><link rel="preload" href="https://cdn.optimizely.com/js/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="532" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{height:25px}.r{fill:rgba(41, 41, 41, 1)}.s{display:block}.t{position:absolute}.u{top:0}.v{left:0}.w{right:0}.x{z-index:500}.y{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.ah{max-width:1192px}.ai{min-width:0}.aj{width:100%}.ak{height:65px}.an{flex:1 0 auto}.ao{fill:rgba(25, 25, 25, 1)}.ap{flex:0 0 auto}.aq{visibility:hidden}.ar{margin-left:16px}.as{color:rgba(26, 137, 23, 1)}.at{fill:rgba(26, 137, 23, 1)}.au{font-size:inherit}.av{border:inherit}.aw{font-family:inherit}.ax{letter-spacing:inherit}.ay{font-weight:inherit}.az{padding:0}.ba{margin:0}.be:disabled{cursor:default}.bf:disabled{color:rgba(163, 208, 162, 0.5)}.bg:disabled{fill:rgba(163, 208, 162, 0.5)}.bh{border-top:1px solid rgba(230, 230, 230, 1)}.bj{height:54px}.bk{overflow:hidden}.bl{margin-right:40px}.bm{height:36px}.bn{width:92px}.bo{overflow:auto}.bp{flex:0 1 auto}.bq{list-style-type:none}.br{line-height:40px}.bs{white-space:nowrap}.bt{overflow-x:auto}.bu{align-items:flex-start}.bv{margin-top:20px}.bw{padding-top:20px}.bx{height:80px}.by{height:20px}.bz{margin-right:15px}.ca{margin-left:15px}.cb:first-child{margin-left:0}.cc{min-width:1px}.cd{background-color:rgba(168, 168, 168, 1)}.ce{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.cf{font-size:13px}.cg{line-height:20px}.ch{color:rgba(117, 117, 117, 1)}.ci{text-transform:uppercase}.cj{letter-spacing:1px}.ck{color:inherit}.cl{fill:inherit}.co:disabled{color:rgba(117, 117, 117, 1)}.cp:disabled{fill:rgba(117, 117, 117, 1)}.cq{margin-bottom:0px}.cr{margin-top:0px}.cs{height:119px}.cv{padding-left:24px}.cw{padding-right:24px}.cx{margin-left:auto}.cy{margin-right:auto}.cz{max-width:728px}.da{box-sizing:border-box}.db{top:calc(100vh + 100px)}.dc{bottom:calc(100vh + 100px)}.dd{width:10px}.de{pointer-events:none}.df{word-break:break-word}.dg{word-wrap:break-word}.dh:after{display:block}.di:after{content:""}.dj:after{clear:both}.dk{max-width:680px}.dl{line-height:1.23}.dm{letter-spacing:0}.dn{font-style:normal}.do{font-family:fell, Georgia, Cambria, "Times New Roman", Times, serif}.ej{margin-bottom:-0.27em}.ek{color:rgba(41, 41, 41, 1)}.el{margin-top:32px}.em{justify-content:space-between}.eq{border-radius:50%}.er{height:48px}.es{width:48px}.et{margin-left:12px}.eu{font-size:14px}.ev{margin-bottom:2px}.ex{max-height:20px}.ey{text-overflow:ellipsis}.ez{display:-webkit-box}.fa{-webkit-line-clamp:1}.fb{-webkit-box-orient:vertical}.fe{margin-left:8px}.ff{color:rgba(255, 255, 255, 1)}.fg{padding:0px 8px 1px}.fh{fill:rgba(255, 255, 255, 1)}.fi{background:rgba(26, 137, 23, 1)}.fj{border-color:rgba(26, 137, 23, 1)}.fm:disabled{cursor:inherit}.fn:disabled{opacity:0.3}.fo:disabled:hover{background:rgba(26, 137, 23, 1)}.fp:disabled:hover{border-color:rgba(26, 137, 23, 1)}.fq{border-radius:4px}.fr{border-width:1px}.fs{border-style:solid}.ft{display:inline-block}.fu{text-decoration:none}.fv{align-items:flex-end}.gd{padding-right:6px}.ge{fill:rgba(117, 117, 117, 1)}.gf{margin-right:8px}.gg{margin-right:-6px}.gh{max-width:2275px}.gn{clear:both}.gp{cursor:zoom-in}.gq{position:relative}.gr{z-index:auto}.gt{opacity:0}.gu{transition:opacity 100ms 400ms}.gv{height:100%}.gw{will-change:transform}.gx{transform:translateZ(0)}.gy{margin:auto}.gz{background-color:rgba(242, 242, 242, 1)}.ha{padding-bottom:66.63736263736263%}.hb{height:0}.hc{filter:blur(20px)}.hd{transform:scale(1.1)}.he{visibility:visible}.hf{line-height:1.58}.hg{letter-spacing:-0.004em}.hh{font-family:charter, Georgia, Cambria, "Times New Roman", Times, serif}.ic{margin-bottom:-0.46em}.id{margin-bottom:14px}.ie{padding-top:24px}.if{padding-bottom:10px}.ig{background-color:rgba(8, 8, 8, 1)}.ih{height:3px}.ii{width:3px}.ij{margin-right:20px}.ik{text-decoration:underline}.il{list-style-type:disc}.im{margin-left:30px}.in{padding-left:0px}.it{font-style:italic}.iu{padding:20px}.iv{background:rgba(242, 242, 242, 1)}.iw{line-height:1.18}.ix{letter-spacing:-0.022em}.iy{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.iz{font-size:16px}.ja{margin-top:-0.09em}.jb{margin-bottom:-0.09em}.jc{white-space:pre-wrap}.jd{font-weight:500}.jy{margin-bottom:-0.31em}.kj{box-shadow:inset 3px 0 0 0 rgba(41, 41, 41, 1)}.kk{padding-left:23px}.kl{margin-left:-20px}.km{padding:2px 4px}.kn{font-size:75%}.ko> strong{font-family:inherit}.kp{line-height:1.12}.ld{margin-bottom:-0.28em}.le{will-change:opacity}.lf{position:fixed}.lg{width:188px}.lh{left:50%}.li{transform:translateX(406px)}.lj{top:calc(65px + 54px + 14px)}.lm{top:159px}.lo{width:131px}.lp{flex-direction:column}.lq{padding-bottom:28px}.lr{border-bottom:1px solid rgba(230, 230, 230, 1)}.ls{padding-bottom:20px}.lt{padding-top:2px}.lu{max-height:120px}.lv{-webkit-line-clamp:6}.lw{padding:7px 16px 9px}.lx{flex-direction:row}.ly{padding-top:28px}.lz{margin-bottom:19px}.ma{margin-left:-3px}.mg{outline:0}.mh{border:0}.mi{user-select:none}.mj{cursor:pointer}.mk> svg{pointer-events:none}.mm{-webkit-user-select:none}.mw button{text-align:left}.mx{opacity:0.4}.my{cursor:not-allowed}.mz{padding-right:4px}.ni{margin-top:40px}.nj{flex-wrap:wrap}.nk{margin-top:25px}.nl{margin-bottom:8px}.nm{line-height:22px}.nn{border-radius:3px}.no{padding:5px 10px}.np{max-width:155px}.nt{top:1px}.oh{margin-left:-1px}.oi{margin-left:-4px}.oq{padding-right:8px}.or{padding-top:32px}.os{margin-bottom:25px}.ou{margin-bottom:32px}.ov{min-height:80px}.pa{width:80px}.pb{padding-left:102px}.pd{line-height:18px}.pe{letter-spacing:0.077em}.pf{margin-bottom:6px}.pg{font-size:22px}.ph{line-height:28px}.pi{padding:4px 12px 6px}.pj{max-width:555px}.pk{max-width:450px}.pl{line-height:24px}.pm{display:none}.po{max-width:550px}.pp{margin-top:5px}.pq{height:40px}.pr{width:40px}.ps{font-size:12px}.pt{line-height:16px}.pu{letter-spacing:0.083em}.pv{padding-top:8px}.pw{background:rgba(255, 255, 255, 1)}.px{margin-bottom:40px}.py{margin-top:24px}.pz{padding-bottom:16px}.qa{margin-bottom:24px}.rm{flex-grow:0}.rn{padding-bottom:24px}.ro{max-width:500px}.rs{padding-bottom:8px}.sf{padding-bottom:100%}.sq{padding:60px 0}.sr{background-color:rgba(0, 0, 0, 0.9)}.st{padding-bottom:48px}.su{border-bottom:1px solid rgba(255, 255, 255, 0.54)}.sv{margin:0 -12px}.sw{margin:0 12px}.sx{flex:1 1 0}.ta:disabled{color:rgba(255, 255, 255, 0.7)}.tb:disabled{fill:rgba(255, 255, 255, 0.7)}.tc{font-size:20px}.td{color:rgba(255, 255, 255, 0.98)}.te{color:rgba(255, 255, 255, 0.7)}.tf{height:22px}.tg{width:200px}.tm{margin-right:16px}.bb:hover{cursor:pointer}.bc:hover{color:rgba(15, 115, 12, 1)}.bd:hover{fill:rgba(15, 115, 12, 1)}.cm:hover{color:rgba(25, 25, 25, 1)}.cn:hover{fill:rgba(25, 25, 25, 1)}.fd:hover{text-decoration:underline}.fk:hover{background:rgba(15, 115, 12, 1)}.fl:hover{border-color:rgba(15, 115, 12, 1)}.mo:hover{fill:rgba(117, 117, 117, 1)}.sy:hover{color:rgba(255, 255, 255, 0.99)}.sz:hover{fill:rgba(255, 255, 255, 0.99)}.gs:focus{transform:scale(1.01)}.mn:focus{fill:rgba(117, 117, 117, 1)}.ml:active{border-style:none}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.ag{margin:0 64px}.ef{font-size:48px}.eg{margin-top:0.55em}.eh{line-height:60px}.ei{letter-spacing:-0.011em}.gc{margin-left:30px}.gm{margin-top:56px}.hy{font-size:21px}.hz{margin-top:2em}.ia{line-height:32px}.ib{letter-spacing:-0.003em}.is{margin-top:1.05em}.ju{font-size:22px}.jv{margin-top:1.72em}.jw{line-height:28px}.jx{letter-spacing:0}.kd{margin-top:0.86em}.ki{margin-top:1.91em}.la{font-size:30px}.lb{margin-top:1.25em}.lc{line-height:36px}.mf{margin-right:5px}.mv{margin-top:5px}.nh{padding-left:6px}.nv{display:inline-block}.oa{margin-left:7px}.ob{margin-top:8px}.og{width:25px}.oo{padding-left:7px}.op{top:3px}.qp{width:calc(100% + 32px)}.qq{margin-left:-16px}.qr{margin-right:-16px}.ri{padding-left:16px}.rj{padding-right:16px}.rk{flex-basis:25%}.rl{max-width:25%}.sb{font-size:16px}.sc{line-height:20px}.so{min-width:70px}.sp{min-height:70px}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.gb{margin-left:30px}.me{margin-right:5px}.mu{margin-top:5px}.ng{padding-left:6px}.nu{display:inline-block}.ny{margin-left:7px}.nz{margin-top:8px}.of{width:25px}.om{padding-left:7px}.on{top:3px}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.ga{margin-left:30px}.md{margin-right:5px}.mt{margin-top:5px}.ne{padding-left:6px}.nf{top:3px}.ns{display:inline-block}.nw{margin-left:7px}.nx{margin-top:8px}.oe{width:15px}.ol{padding-left:3px}.rr{margin-right:16px}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.al{height:56px}.am{display:flex}.bi{display:block}.ct{margin-bottom:0px}.cu{height:110px}.eo{margin-top:32px}.ep{flex-direction:column-reverse}.fy{margin-bottom:30px}.fz{margin-left:0px}.mc{margin-left:8px}.mr{margin-top:2px}.ms{margin-right:8px}.nc{padding-left:6px}.nd{top:3px}.nr{display:inline-block}.od{width:15px}.ok{padding-left:3px}.ot{padding-top:0}.ow{margin-bottom:24px}.ox{align-items:center}.oy{width:102px}.oz{position:relative}.pc{padding-left:0}.pn{margin-top:24px}.qb{padding-bottom:12px}.qc{margin-top:16px}.rq{margin-right:16px}.sd{margin-left:16px}.se{margin-right:0px}.ss{padding:32px 0}.th{width:140px}.ti{margin-bottom:16px}.tj{margin-top:30px}.tk{width:100%}.tl{flex-direction:row}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.ab{margin:0 24px}.dp{font-size:34px}.dq{margin-top:0.56em}.dr{line-height:42px}.ds{letter-spacing:-0.016em}.en{margin-top:32px}.ew{margin-bottom:0px}.fw{margin-bottom:30px}.fx{margin-left:0px}.gi{margin-top:40px}.hi{font-size:18px}.hj{margin-top:1.56em}.hk{line-height:28px}.hl{letter-spacing:-0.003em}.io{margin-top:1.34em}.je{font-size:20px}.jf{margin-top:1.23em}.jg{line-height:24px}.jh{letter-spacing:0}.jz{margin-top:0.67em}.ke{margin-top:1.41em}.kq{font-size:22px}.kr{margin-top:0.93em}.mb{margin-left:8px}.mp{margin-top:2px}.mq{margin-right:8px}.na{padding-left:6px}.nb{top:3px}.nq{display:inline-block}.oc{width:15px}.oj{padding-left:3px}.qd{width:calc(100% + 24px)}.qe{margin-left:-12px}.qf{margin-right:-12px}.qs{padding-left:12px}.qt{padding-right:12px}.qu{flex-basis:100%}.qv{max-width:100%}.rp{margin-right:16px}.rt{font-size:16px}.ru{line-height:20px}.sg{min-width:48px}.sh{min-height:48px}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.af{margin:0 64px}.eb{font-size:48px}.ec{margin-top:0.55em}.ed{line-height:60px}.ee{letter-spacing:-0.011em}.gl{margin-top:56px}.hu{font-size:21px}.hv{margin-top:2em}.hw{line-height:32px}.hx{letter-spacing:-0.003em}.ir{margin-top:1.05em}.jq{font-size:22px}.jr{margin-top:1.72em}.js{line-height:28px}.jt{letter-spacing:0}.kc{margin-top:0.86em}.kh{margin-top:1.91em}.kx{font-size:30px}.ky{margin-top:1.25em}.kz{line-height:36px}.qm{width:calc(100% + 32px)}.qn{margin-left:-16px}.qo{margin-right:-16px}.re{padding-left:16px}.rf{padding-right:16px}.rg{flex-basis:25%}.rh{max-width:25%}.rz{font-size:16px}.sa{line-height:20px}.sm{min-width:70px}.sn{min-height:70px}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.ae{margin:0 48px}.dx{font-size:48px}.dy{margin-top:0.55em}.dz{line-height:60px}.ea{letter-spacing:-0.011em}.gk{margin-top:56px}.hq{font-size:21px}.hr{margin-top:2em}.hs{line-height:32px}.ht{letter-spacing:-0.003em}.iq{margin-top:1.05em}.jm{font-size:22px}.jn{margin-top:1.72em}.jo{line-height:28px}.jp{letter-spacing:0}.kb{margin-top:0.86em}.kg{margin-top:1.91em}.ku{font-size:30px}.kv{margin-top:1.25em}.kw{line-height:36px}.qj{width:calc(100% + 28px)}.qk{margin-left:-14px}.ql{margin-right:-14px}.ra{padding-left:14px}.rb{padding-right:14px}.rc{flex-basis:50%}.rd{max-width:50%}.rx{font-size:16px}.ry{line-height:20px}.sk{min-width:48px}.sl{min-height:48px}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ac{margin:0 24px}.dt{font-size:34px}.du{margin-top:0.56em}.dv{line-height:42px}.dw{letter-spacing:-0.016em}.gj{margin-top:40px}.hm{font-size:18px}.hn{margin-top:1.56em}.ho{line-height:28px}.hp{letter-spacing:-0.003em}.ip{margin-top:1.34em}.ji{font-size:20px}.jj{margin-top:1.23em}.jk{line-height:24px}.jl{letter-spacing:0}.ka{margin-top:0.67em}.kf{margin-top:1.41em}.ks{font-size:22px}.kt{margin-top:0.93em}.qg{width:calc(100% + 24px)}.qh{margin-left:-12px}.qi{margin-right:-12px}.qw{padding-left:12px}.qx{padding-right:12px}.qy{flex-basis:100%}.qz{max-width:100%}.rv{font-size:16px}.rw{line-height:20px}.si{min-width:48px}.sj{min-height:48px}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="print">.z{display:none}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.fc{max-height:none}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.go{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.lk{transition:opacity 200ms}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="all and (max-width: 1230px)">.ll{display:none}</style><style type="text/css" data-fela-rehydration="532" data-fela-type="RULE" media="all and (max-width: 1198px)">.ln{display:none}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div><script>if (window.self !== window.top) window.location = "about:blank"</script></div><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><div class="s"><nav class="s t u v w c x y z"><div><div class="s c"><div class="n p"><div class="ab ac ae af ag ah ai aj"><div class="ak n o al am"><div class="n o an x"><a rel="noopener" href="https://medium.com/?source=post_page-----ef41ff13f301--------------------------------"><svg viewBox="0 0 1043.63 592.71" class="q ao"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div><div class="s ap x"><div class="n o"><div class="n o g"><div class="aq" id="lo-post-page-navbar-sign-in-link"><div class="ar s"><span><a href="https://medium.com/m/signin?operation=login&redirect=https://medium.com/virtuslab/integrating-gdb-support-in-an-emulator-ef41ff13f301&source=post_page-----ef41ff13f301---------------------nav_reg-----------" class="as at au av aw ax ay az ba bb bc bd be bf bg" rel="noopener">Sign in</a></span></div></div></div></div></div></div></div></div></div><div class="bh s c bi"><div class="n p"><div class="ab ac ae af ag ah ai aj"><div class="bj bk n o"><div class="bl s ap"><a href="https://medium.com/virtuslab?source=post_page-----ef41ff13f301--------------------------------" rel="noopener"><div class="bm bn s"><img alt="VirtusLab" class="" src="https://miro.medium.com/max/184/1*1qj8ByGnlHyGPx490RUErw.png" width="92" height="36"/></div></a></div><div class="bo s bp"><ul class="bq ba br bs bt n bu g bv bw bx"><li class="n o by bz ca cb"><span class="ce b cf cg ch ci cj"><a href="https://medium.com/virtuslab/best-hits/home?source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener">Best Hits</a></span></li><li class="n o by bz ca cb"><span class="ce b cf cg ch ci cj"><a href="https://medium.com/virtuslab/tagged/tech?source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener">Tech</a></span></li><span class="by cc cd"></span><li class="n o by bz ca cb"><span class="ce b cf cg ch ci cj"><a href="http://virtuslab.com/?source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener nofollow">VirtusLab.com</a></span></li></ul></div></div></div></div></div></div></nav><div class="cq cr cs s ct cu"></div><article><section class="cv cw cx cy aj cz da s"></section><span class="s"></span><div><div class="t v db dc dd de"></div><section class="df dg dh di dj"><div class="n p"><div class="ab ac ae af ag dk ai aj"><div class=""><h1 id="ebcd" class="dl dm dn do b dp dq dr ds dt du dv dw dx dy dz ea eb ec ed ee ef eg eh ei ej ek">Integrating GDB support in an emulator</h1><div class="el"><div class="n em en eo ep"><div class="o n"><div><a rel="noopener" href="https://medium.com/@mmikolajczyk?source=post_page-----ef41ff13f301--------------------------------"><img alt="Marcin Mikołajczyk" class="s eq er es" src="https://miro.medium.com/fit/c/96/96/1*dmbNkD5D-u45r44go_cf0g.png" width="48" height="48"/></a></div><div class="et aj s"><div class="n"><div style="flex:1"><span class="ce b eu cg ek"><div class="ev n o ew"><span class="ce b eu cg bk ex ey ez fa fb fc ek"><a class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener" href="https://medium.com/@mmikolajczyk?source=post_page-----ef41ff13f301--------------------------------">Marcin Mikołajczyk</a></span><div class="fe s ap h"><span><button class="ce b cf cg ff fg fh fi fj fk fl bb fm fn fo fp fq fr fs da ft fu">Follow</button></span></div></div></span></div></div><span class="ce b eu cg ch"><span class="ce b eu cg bk ex ey ez fa fb fc ch"><div><a class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener" href="https://medium.com/virtuslab/integrating-gdb-support-in-an-emulator-ef41ff13f301?source=post_page-----ef41ff13f301--------------------------------">May 4, 2020</a> <!-- -->·<!-- --> <!-- -->8<!-- --> min read</div></span></span></div></div><div class="n fv fw fx fy fz ga gb gc z"><div class="n o"><div class="gd s ap"><button class="ck cl au av aw ax ay az ba bb cm cn be co cp" aria-label="Share on twitter"><svg width="29" height="29" class="ge"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></button></div><div class="gd s ap"><button class="ck cl au av aw ax ay az ba bb cm cn be co cp" aria-label="Share on linkedin"><svg width="29" height="29" viewBox="0 0 29 29" fill="none" class="ge"><path d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z" fill="#fff"></path></svg></button></div><div class="gd s ap"><button class="ck cl au av aw ax ay az ba bb cm cn be co cp" aria-label="Share on facebook"><svg width="29" height="29" class="ge"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></button></div><div class="gf s"><div class="ge"><span><a href="https://medium.com/m/signin?actionUrl=/_/bookmark/p/ef41ff13f301&operation=register&redirect=https://medium.com/virtuslab/integrating-gdb-support-in-an-emulator-ef41ff13f301&source=post_actions_header--------------------------bookmark_preview-----------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></span></div></div><div class="gg s an"></div></div></div></div></div></div><figure class="gi gj gk gl gm gn cx cy paragraph-image"><div role="button" tabindex="0" class="go gp gq gr aj gs"><div class="cx cy gh"><div class="gy s gq gz"><div class="ha hb s"><div class="gt gu t u v gv aj bk gw gx"><img alt="Image for post" class="t u v gv aj hc hd he" src="https://miro.medium.com/max/60/1*b6kdm_3iEOGKipw1GYJtgA.jpeg?q=20" width="2275" height="1516"/></div><img alt="Image for post" class="gt gu t u v gv aj c" width="2275" height="1516"/><noscript><img alt="Image for post" class="t u v gv aj" src="https://miro.medium.com/max/4550/1*b6kdm_3iEOGKipw1GYJtgA.jpeg" width="2275" height="1516" srcSet="https://miro.medium.com/max/552/1*b6kdm_3iEOGKipw1GYJtgA.jpeg 276w, https://miro.medium.com/max/1104/1*b6kdm_3iEOGKipw1GYJtgA.jpeg 552w, https://miro.medium.com/max/1280/1*b6kdm_3iEOGKipw1GYJtgA.jpeg 640w, https://miro.medium.com/max/1400/1*b6kdm_3iEOGKipw1GYJtgA.jpeg 700w" sizes="700px"/></noscript></div></div></div></div></figure><p id="704b" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Writing an emulator was one of the project ideas that I had in my mind for “sometime in the future”. Turns out, during the mandatory quarantine, I suddenly had much more free time and decided to put that into something real.</p><p id="499d" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">One of the interesting design spaces was implementing GDB support. This would significantly speed up development, as I could use a well-known swiss army tool of debugging and not implement provided functionalities myself. In this article, I will strive to describe the whole process.</p></div></div></section><div class="n p el id ie if" role="separator"><span class="ig eq ft ih ii ij"></span><span class="ig eq ft ih ii ij"></span><span class="ig eq ft ih ii"></span></div><section class="df dg dh di dj"><div class="n p"><div class="ab ac ae af ag dk ai aj"><p id="50eb" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">As an example, I will use a simplistic implementation of MIPS R3000A processor emulator, implemented in Rust. This implementation is based on an early version of CPU interpreter in the PlayStation emulator called Rustation by Lionel Flandrin (available at <a href="https://github.com/simias/rustation" class="ck ik" target="_blank" rel="noopener nofollow">https://github.com/simias/rustation</a>). The initial project that I’m providing is simplified and cut down for better understanding.</p><p id="3c4e" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">If you’d like to follow along, you’ll need:</p><ul class=""><li id="18ac" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic il im in ek">Rust compiler (I’m using version 1.42.0), along with some basic Rust knowledge,</li><li id="2d2f" class="hf hg dn hh b hi io hk hl hm ip ho hp hq iq hs ht hu ir hw hx hy is ia ib ic il im in ek">initial project from <a href="https://github.com/mikusp/mips-emu-gdb-example/" class="ck ik" target="_blank" rel="noopener nofollow">https://github.com/mikusp/mips-emu-gdb-example/,</a></li><li id="2b68" class="hf hg dn hh b hi io hk hl hm ip ho hp hq iq hs ht hu ir hw hx hy is ia ib ic il im in ek">gdb-multiarch,</li><li id="898a" class="hf hg dn hh b hi io hk hl hm ip ho hp hq iq hs ht hu ir hw hx hy is ia ib ic il im in ek">some program for MIPS architecture (see epilogue at the end if you want to compile one).</li></ul><p id="f688" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Although GDB remote debugging protocol uses TCP connectivity, I didn’t want to start at a <em class="it">such</em> low level and decided to look for some library. It seems there are two main choices:</p><ul class=""><li id="b95d" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic il im in ek"><a href="https://docs.rs/gdbstub/0.1.2/gdbstub/" class="ck ik" target="_blank" rel="noopener nofollow">gdbstub</a></li><li id="bf00" class="hf hg dn hh b hi io hk hl hm ip ho hp hq iq hs ht hu ir hw hx hy is ia ib ic il im in ek"><a href="https://github.com/luser/rust-gdb-remote-protocol" class="ck ik" target="_blank" rel="noopener nofollow">rust-gdb-remote-protocol</a></li></ul><p id="900a" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">I had more success with the latter, so this is my library of choice. Firstly, we need to add the library as a dependency in Cargo.toml file:</p><pre class="gi gj gk gl gm iu iv bt"><span id="39e6" class="ek iw ix dn iy b iz ja jb s jc">[dependencies]<br/>gdb-remote-protocol = { git = &quot;https://github.com/luser/rust-gdb-remote-protocol&quot; }</span></pre><p id="75b6" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Now, let’s familiarize ourselves with the structure of the main function:</p><pre class="gi gj gk gl gm iu iv bt"><span id="39bc" class="ek iw ix dn iy b iz ja jb s jc">fn main() {<br/>    let mut path = None;<br/>    // read path from command-line arguments<br/>    <br/>    let mut cpu = Cpu::new(path.expect(&quot;filepath error&quot;));<br/>    loop { <br/>        cpu.run_next_instruction();<br/>    }<br/>}</span></pre><p id="7437" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">At the beginning, we read the path to a binary program and provide this path to our Cpu object. The constructor of Cpu will read the program, place it into memory to be executed and initialize all internal structures. Then, we invoke Cpu::run_next_instruction(&amp;mut self) method in a loop to execute instructions.</p><p id="12a8" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">As there is no documentation available for rust-gdb-remote-protocol, I took my first steps to <em class="it">examples </em>directory, where a file noop-server.rs lives:</p><pre class="gi gj gk gl gm iu iv bt"><span id="5e22" class="ek iw ix dn iy b iz ja jb s jc">struct NoopHandler;<br/><br/>impl Handler for NoopHandler {<br/>    fn attached(&amp;self, _pid: Option&lt;u64&gt;) -&gt; Result&lt;ProcessType, Error&gt; {<br/>        Ok(ProcessType::Created)<br/>    }<br/><br/>    fn halt_reason(&amp;self) -&gt; Result&lt;StopReason, Error&gt; {<br/>        Ok(StopReason::Exited(23, 0))<br/>    }<br/>}<br/><br/>#[cfg_attr(test, allow(dead_code))]<br/>fn main() {<br/>    drop(env_logger::init());<br/>    let listener = TcpListener::bind(&quot;0.0.0.0:2424&quot;).unwrap();<br/>    println!(&quot;Listening on port 2424&quot;);<br/>    for res in listener.incoming() {<br/>        println!(&quot;Got connection&quot;);<br/>        if let Ok(stream) = res {<br/>            let h = NoopHandler;<br/>            process_packets_from(stream.try_clone().unwrap(), stream, h);<br/>        }<br/>        println!(&quot;Connection closed&quot;);<br/>    }<br/>}</span></pre><p id="9457" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">From this snippet we can deduce that implementation of the Handler trait determines how our Cpu will be communicating with GDB. We need to provide a TCP connection and that the debugging process is controlled by process_packets_from function provided by the library.</p><h2 id="5140" class="iw ix dn ce jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy ek">Let’s start then!</h2><p id="d8da" class="hf hg dn hh b hi jz hk hl hm ka ho hp hq kb hs ht hu kc hw hx hy kd ia ib ic df ek">For the purpose of implementing the Handler trait, I’ve added a new struct representing the state:</p><pre class="gi gj gk gl gm iu iv bt"><span id="6c32" class="ek iw ix dn iy b iz ja jb s jc">use std::cell::RefCell;<br/>use gdb_remote_protocol::*;</span><span id="95ff" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">pub struct GdbState {<br/>    cpu: RefCell&lt;Cpu&gt;<br/>}</span><span id="7053" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">impl GdbState {<br/>    pub fn new(cpu: Cpu) -&gt; GdbState {<br/>        GdbState {<br/>            cpu: RefCell::new(cpu),<br/>        }<br/>    }<br/>}</span><span id="a7db" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">impl Handler for GdbState {</span><span id="21a0" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">}</span></pre><p id="f8ae" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Compiling empty trait results in a missing implementation error of functions <em class="it">attached</em> and <em class="it">halt_reason</em>. To fix that error, we need to provide an implementation, which can be as simple as in the example above. However, ProcessType::Attached seems at the moment to be more suitable as <em class="it">attached</em> return value. According to the GDB documentation</p><blockquote class="kj kk kl"><p id="59b5" class="hf hg it hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">“This query is used, for example, to know whether the remote process should be detached or killed when a GDB session is ended with the <code class="gz km kn ko iy b">quit</code> command.”</p></blockquote><p id="5f14" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">and killing a remote process sounds like another thing that we’d need to implement.</p><pre class="gi gj gk gl gm iu iv bt"><span id="00bd" class="ek iw ix dn iy b iz ja jb s jc">impl Handler for GdbState {<br/>    fn attached(&amp;self, _pid: Option&lt;u64&gt;) -&gt; Result&lt;ProcessType, Error&gt; {<br/>        Ok(ProcessType::Attached)<br/>    }</span><span id="5846" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">    fn halt_reason(&amp;self) -&gt; Result&lt;StopReason, Error&gt; {<br/>        Ok(StopReason::Exited(23, 0))<br/>    }<br/>}</span></pre><p id="b7af" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Now our project compiles successfully. It means we can continue onto setting up a connection with GDB. We need to set up a TCP connection and invoke <em class="it">process_packets_from </em>function to start debugging.</p><pre class="gi gj gk gl gm iu iv bt"><span id="78f4" class="ek iw ix dn iy b iz ja jb s jc">use std::net::TcpListener;</span><span id="2ed4" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">...</span><span id="034c" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">    let mut cpu = Cpu::new(path.expect(&quot;filepath error&quot;));</span><span id="1b65" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">    let listener = TcpListener::bind(&quot;0.0.0.0:2424&quot;).unwrap();<br/>    println!(&quot;Listening on port 2424&quot;);</span><span id="5e90" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">    let debugger = GdbState::new(cpu);<br/>    if let Ok((stream, _addr)) = listener.accept() {<br/>        println!(&quot;Got connection&quot;);<br/>        process_packets_from(stream.try_clone().unwrap(), stream, debugger);<br/>    }<br/>    println!(&quot;Connection closed&quot;);<br/>}</span></pre><p id="1369" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Now if we run the program, it will wait for connection from GDB. During testing, I recommend adding these commands to .gdbinit file in your home directory to avoid typing them after starting GDB:</p><pre class="gi gj gk gl gm iu iv bt"><span id="8901" class="ek iw ix dn iy b iz ja jb s jc"># set remote architecture to little endian MIPS<br/>set arch mips<br/>set endian little<br/># causes GDB to display sent and received commands<br/>set debug remote 1<br/># try to connect automatically at startup<br/>target extended-remote :2424</span></pre><p id="3fdd" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">After running gdb-multiarch, we can see that it successfully connected to our emulator:</p><pre class="gi gj gk gl gm iu iv bt"><span id="3c07" class="ek iw ix dn iy b iz ja jb s jc">The target architecture is assumed to be mips<br/>The target is assumed to be little endian<br/>// ... omitted debug info<br/>(gdb)</span></pre><p id="4215" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Starting the program using run command unfortunately produces an error:</p><pre class="gi gj gk gl gm iu iv bt"><span id="5d21" class="ek iw ix dn iy b iz ja jb s jc">(gdb) run<br/>Starting program:  <br/>Sending packet: $QDisableRandomization:1#cf...Packet received: <br/>Target does not support QDisableRandomization.<br/>(gdb)</span></pre><p id="0cb4" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Turns out that by default rust-gdb-remote-protocol implementation advertises support for QDisableRandomization command and, at the time of writing, it cannot be turned off (as documented in <a href="https://github.com/luser/rust-gdb-remote-protocol/blob/f20055bd1b9053a2e16ded021cbe5331834404d8/src/lib.rs#L815" class="ck ik" target="_blank" rel="noopener nofollow">https://github.com/luser/rust-gdb-remote-protocol/blob/f20055bd1b9053a2e16ded021cbe5331834404d8/src/lib.rs#L815</a>).</p><p id="360e" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Out of necessity , we implement <em class="it">set_address_randomization</em> method:</p><pre class="gi gj gk gl gm iu iv bt"><span id="3c17" class="ek iw ix dn iy b iz ja jb s jc">impl Handler for GdbState {</span><span id="8413" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">// ...<br/> <br/>   fn set_address_randomization(&amp;self, _enable: bool) -&gt; Result&lt;(), Error&gt; {<br/>        Ok(())<br/>    }<br/>}</span></pre><p id="0684" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Now GDB gets a little further before failing to receive a response for <em class="it">g</em> packet and timing out:</p><pre class="gi gj gk gl gm iu iv bt"><span id="e13b" class="ek iw ix dn iy b iz ja jb s jc">(gdb) run<br/>Starting program:  <br/>// ... omitted<br/>Sending packet: $g#67...Packet received: <br/>Bad register packet; fetching a new packet<br/>Packet received: <br/>Bad register packet; fetching a new packet<br/>Timed out.</span></pre><p id="e8d7" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">According to <a href="https://sourceware.org/gdb/current/onlinedocs/gdb/Remote-Protocol.html" class="ck ik" target="_blank" rel="noopener nofollow">GDB remote protocol documentation</a>, <em class="it">g</em> stands for <em class="it">read general registers. </em>Implementing this functionality can seem cryptic at first, and neither before-mentioned documentation, nor the library source fully resolved my confusion. At this point I turned to the other library I mentioned at the beginning, gdbstub. In its source code I found an important clue — order of returned registers should be the same as specified in GDB internal <em class="it">target.xml</em> file for relevant architecture. Closest to what we are looking for seems to be <a href="https://sourceware.org/git/?p=binutils-gdb.git;a=blob;f=gdb/features/mips-cpu.xml;h=eff0ca62638893916c703006107b7794167599cd;hb=HEAD" class="ck ik" target="_blank" rel="noopener nofollow">mips-cpu.xml</a> file. It defines register order and their indices:</p><pre class="gi gj gk gl gm iu iv bt"><span id="5bab" class="ek iw ix dn iy b iz ja jb s jc">  &lt;reg name=&quot;r0&quot; bitsize=&quot;32&quot; regnum=&quot;0&quot;/&gt;<br/>  &lt;reg name=&quot;r1&quot; bitsize=&quot;32&quot;/&gt;<br/>  &lt;!-- omitted the rest of &quot;rXX&quot; registers --&gt;<br/><br/>  &lt;reg name=&quot;lo&quot; bitsize=&quot;32&quot; regnum=&quot;33&quot;/&gt;<br/>  &lt;reg name=&quot;hi&quot; bitsize=&quot;32&quot; regnum=&quot;34&quot;/&gt;<br/>  &lt;reg name=&quot;pc&quot; bitsize=&quot;32&quot; regnum=&quot;37&quot;/&gt;</span></pre><p id="3388" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Aside from the list above, GDB also expects registers defined in mips-cp0.xml file — SR, BADVADDR and CAUSE.</p><p id="bbd3" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Implementation of <em class="it">read_general_registers</em> method should return them in contiguous vector of bytes, in order specified by <em class="it">regnum</em> index, and each value in target endianness (in this case little-endian):</p><pre class="gi gj gk gl gm iu iv bt"><span id="54ca" class="ek iw ix dn iy b iz ja jb s jc">    fn read_general_registers(&amp;self) -&gt; Result&lt;Vec&lt;u8&gt;, Error&gt; {<br/>        let mut result = Vec::new();<br/>        for reg in self.cpu.borrow().regs().iter() {<br/>            result.extend_from_slice(&amp;reg.to_le_bytes());<br/>        }</span><span id="7a47" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">        result.extend_from_slice(<br/>            &amp;self.cpu.borrow().sr().to_le_bytes());<br/>        result.extend_from_slice(<br/>            &amp;self.cpu.borrow().lo().to_le_bytes());<br/>        result.extend_from_slice(<br/>            &amp;self.cpu.borrow().hi().to_le_bytes());<br/>        result.extend_from_slice(<br/>            &amp;self.cpu.borrow().badvaddr().to_le_bytes());<br/>        result.extend_from_slice(<br/>            &amp;self.cpu.borrow().cause().to_le_bytes());<br/>        result.extend_from_slice(<br/>            &amp;self.cpu.borrow().pc().to_le_bytes());</span><span id="a87b" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">        Ok(result)<br/>    }</span></pre><p id="50e8" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">We are getting closer. GDB receives the data about registers and proceeds further. It complains about lack of fetch- and set-register packets, which we will implement later, and finally hangs after sending a <em class="it">c</em> packet, standing for “continue”. However, this functionality is considered to be deprecated and we should implement support for <a href="https://sourceware.org/gdb/current/onlinedocs/gdb/Packets.html#vCont-packet" class="ck ik" target="_blank" rel="noopener nofollow"><em class="it">vCont</em> packet</a> instead. As vCont can stand for multiple commands, our program should specify the ones that are supported in <em class="it">query_supported_vcont</em> method. For unknown reasons, GDB will accept the response only if both <em class="it">Continue</em> and <em class="it">ContinueWithSignal</em> features are supported. Now, first implementation of <em class="it">vcont</em> method, handling various commands, is rather straightforward. Optional <em class="it">ThreadId</em> in request can be ignored for now.</p><pre class="gi gj gk gl gm iu iv bt"><span id="02ca" class="ek iw ix dn iy b iz ja jb s jc">use std::borrow::Cow;</span><span id="939d" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">impl Handler for GdbState {<br/>// ...</span><span id="512a" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">    fn query_supported_vcont(&amp;self) -&gt; Result&lt;Cow&lt;&#x27;static, [VContFeature]&gt;, Error&gt; {<br/>        Ok(Cow::from(<br/>            &amp;[<br/>                VContFeature::Continue,<br/>                VContFeature::ContinueWithSignal,<br/>            ][..]<br/>         ))<br/>    }</span><span id="bc07" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">    fn vcont(&amp;self, request: Vec&lt;(VCont, Option&lt;ThreadId&gt;)&gt;) -&gt; Result&lt;StopReason, Error&gt; {<br/>        let req = request.first().unwrap();<br/>        match req.0 {<br/>            VCont::Continue =&gt; {<br/>                loop {<br/>                    self.cpu.borrow_mut().run_next_instruction();<br/>                }<br/>            },<br/>            _ =&gt; Err(Error::Unimplemented)<br/>        }<br/>    }<br/>}</span></pre><p id="a309" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">After issuing <em class="it">run</em> command in GDB, our program runs and… cannot ever stop. As interrupts, or any other mechanism of pausing execution has not been implemented in the CPU interpreter, the loop in <em class="it">vcont</em> is truly infinite. One of the solutions to this problem are breakpoints.</p><h2 id="7055" class="iw ix dn ce jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy ek">Breakpoints support</h2><p id="3d1c" class="hf hg dn hh b hi jz hk hl hm ka ho hp hq kb hs ht hu kc hw hx hy kd ia ib ic df ek">With breakpoints, we can stop execution of a program if a certain condition occurs. Supported in GDB are software and hardware breakpoints on instructions, as well as read/write/access breakpoints on memory operations. We’ll start with plain software breakpoints.</p><p id="5473" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">First of all, we need a suitable place to store them — a new field in previously defined GdbState struct.</p><pre class="gi gj gk gl gm iu iv bt"><span id="7413" class="ek iw ix dn iy b iz ja jb s jc">pub struct GdbState {<br/>    pub cpu: RefCell&lt;Cpu&gt;,<br/>    pub breakpoints: RefCell&lt;Vec&lt;u32&gt;&gt;<br/>}<br/>impl GdbState {<br/>    pub fn new(cpu: Cpu) -&gt; GdbState {<br/>        GdbState {<br/>            cpu: RefCell::new(cpu),<br/>            breakpoints: RefCell::new(vec![]),<br/>        }<br/>    }<br/>}</span></pre><p id="d1c9" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Vector <em class="it">breakpoints</em> will store addresses where execution should be paused. We need to implement support for enabling and disabling them:</p><pre class="gi gj gk gl gm iu iv bt"><span id="0ffe" class="ek iw ix dn iy b iz ja jb s jc">    fn insert_software_breakpoint(&amp;self, breakpoint: Breakpoint) -&gt; Result&lt;(), Error&gt; {<br/>        let addr = breakpoint.addr as u32;<br/>        if !self.breakpoints.borrow_mut().contains(&amp;addr) {<br/>            self.breakpoints.borrow_mut().push(addr);<br/>        }</span><span id="fe78" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">        Ok(())<br/>    }</span><span id="56e8" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">    fn remove_software_breakpoint(&amp;self, breakpoint: Breakpoint) -&gt; Result&lt;(), Error&gt; {<br/>        self.breakpoints.borrow_mut().retain(|addr| *addr != (breakpoint.addr as u32));</span><span id="cba1" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">        Ok(())<br/>    }</span></pre><p id="4c30" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">The last piece of the puzzle left is actually checking if the interpreter hits a breakpoint during code execution:</p><pre class="gi gj gk gl gm iu iv bt"><span id="7b93" class="ek iw ix dn iy b iz ja jb s jc">// in fn vcont()<br/>    VCont::Continue =&gt; {<br/>        let mut cpu_ref = self.cpu.borrow_mut();<br/>        cpu_ref.run_next_instruction();<br/>        while !self.breakpoints.borrow().contains(&amp;cpu_ref.pc()) {<br/>            cpu_ref.run_next_instruction();<br/>        }<br/>        Ok(StopReason::Signal(5))<br/>    },</span></pre><p id="47b8" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Signal 5 is SIGTRAP, the same as a real debugged system would return.</p><p id="d7c3" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Equipped with breakpoints, we can start proper debugging. Once again start GDB, set breakpoint two instructions ahead of PC starting value using <em class="it">b *0xbfc00008 </em>command, type <em class="it">run</em> and hope for the best. Unfortunately, this time we encounter a failed assert in GDB due to unimplemented support of reading memory (packet <em class="it">m</em> with address).</p><pre class="gi gj gk gl gm iu iv bt"><span id="e9ee" class="ek iw ix dn iy b iz ja jb s jc">(gdb) run<br/>Starting program:  <br/>// ...<br/>Sending packet: $p25#d7...Packet received: <br/>Packet p (fetch-register) is NOT supported<br/>Sending packet: $mbfc00004,4#bb...Packet received: <br/>../../gdb/frame-unwind.c:168: internal-error: frame_unwind_find_by_frame failed</span></pre><p id="7272" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">Our CPU interpreter provides a method for reading emulated memory, so implementing support for reading arbitrary memory region is simple (incidentally, it enables support for the <em class="it">x</em> command in GDB):</p><pre class="gi gj gk gl gm iu iv bt"><span id="60b2" class="ek iw ix dn iy b iz ja jb s jc">    fn read_memory(&amp;self, region: MemoryRegion) -&gt; Result&lt;Vec&lt;u8&gt;, Error&gt; {<br/>        let mut result = vec![];<br/>        for i in 0..region.length {<br/>            result.push(self.cpu.borrow().load((region.address + i) as u32));<br/>        }</span><span id="c724" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">        Ok(result)<br/>    }</span></pre><p id="e0e3" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">At last, our implementation arrived at the point where we can start the emulated program, set and remove breakpoints, continue execution, examine registers and read arbitrary memory locations. If you want to take a look at the complete code, checkout <em class="it">final</em> branch of the repository.</p><p id="c46b" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">I hope this article can be useful to the dev community and explain how to implement this functionality in a real world setting.</p><p id="9822" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">GDB is an enormously featureful tool, and we’ve only scratched the surface here. There is still a lot of helpful commands to implement like reading and writing specific registers,writing memory, breakpoints on memory access, and others. However, looking at the length of this article, these need to wait for the next part.</p></div></div></section><div class="n p el id ie if" role="separator"><span class="ig eq ft ih ii ij"></span><span class="ig eq ft ih ii ij"></span><span class="ig eq ft ih ii"></span></div><section class="df dg dh di dj"><div class="n p"><div class="ab ac ae af ag dk ai aj"><h1 id="973b" class="kp ix dn ce jd kq kr hk jh ks kt ho jl ku kv kw jp kx ky kz jt la lb lc jx ld ek">Epilogue: how to create your own test programs</h1><p id="0891" class="hf hg dn hh b hi jz hk hl hm ka ho hp hq kb hs ht hu kc hw hx hy kd ia ib ic df ek">If you want to use your own programs as test data for the emulator, here’s how you could compile them from C (or possibly other languages supported by GCC):</p><ul class=""><li id="0ac3" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic il im in ek">install <em class="it">mipsel-unknown-gnu</em> toolchain, including <em class="it">gcc</em> and <em class="it">binutils</em></li><li id="5953" class="hf hg dn hh b hi io hk hl hm ip ho hp hq iq hs ht hu ir hw hx hy is ia ib ic il im in ek">create code in a file, e.g. hello.c</li></ul><pre class="gi gj gk gl gm iu iv bt"><span id="9c65" class="ek iw ix dn iy b iz ja jb s jc">void __start(void) {<br/>    int a = 3;<br/>    int b = 5;</span><span id="a6de" class="ek iw ix dn iy b iz ke kf kg kh ki jb s jc">    int c = a + b;<br/>}</span></pre><ul class=""><li id="bad4" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic il im in ek">compile using GCC for MIPS, specifying no standard library support, proper architecture and linker option to place executable code at specific address in memory</li></ul><pre class="gi gj gk gl gm iu iv bt"><span id="3bb1" class="ek iw ix dn iy b iz ja jb s jc">mipsel-linux-gnu-gcc -nostdlib -march=r3000 -Wl,--section-start=.text=0xbfc00000 hello.c</span></pre><ul class=""><li id="ea95" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic il im in ek">extract raw binary code from resulting <em class="it">a.out</em> ELF executable</li></ul><pre class="gi gj gk gl gm iu iv bt"><span id="a2cb" class="ek iw ix dn iy b iz ja jb s jc">mipsel-linux-gnu-objcopy -O binary -j .text a.out a.bin</span></pre><p id="a809" class="hf hg dn hh b hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic df ek">a.bin file is ready for debugging!</p></div></div></section></div></article><div class="gt de lf le aj lm lk ln" data-test-id="post-sidebar"><div class="n p"><div class="ab ac ae af ag ah ai aj"><div class="lo n lp"><div class="de"><div><div class="lq lr s"><a href="https://medium.com/virtuslab?source=post_sidebar--------------------------post_sidebar-----------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener"><h2 class="ce jd iz cg dm ek df">VirtusLab</h2></a><div class="ls lt s"><h4 class="ce b eu cg bk lu ey ez lv fb fc ch">Virtus Lab company blog</h4></div><div class="ft" aria-hidden="false"><span><button class="ce b eu cg ff lw fh fi fj fk fl bb fm fn fo fp fq fr fs da ft fu"><div class="n lx">Follow</div></button></span></div></div><div class="ly lz ma n"><div class="n o"><div class="s gq mb mc md me mf"><span><a href="https://medium.com/m/signin?actionUrl=/_/vote/virtuslab/ef41ff13f301&operation=register&redirect=https://medium.com/virtuslab/integrating-gdb-support-in-an-emulator-ef41ff13f301&source=post_sidebar-----ef41ff13f301---------------------clap_sidebar-----------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener"><div class="az mg mh mi mj mk ml mm r mn mo"><svg width="29" height="29" aria-label="clap"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s mp mq mr ms mt mu mv"><div class="mw"><h4 class="ce b eu cg ch"><button class="ck cl au av aw ax ay az ba bb cm cn be co cp">8<!-- --> </button></h4></div></div></div></div><div class="lz s"><button class="mj mh az"><div class="mz n o lx"><svg width="25" height="25" class="r" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg><div class="s gq na nb nc nd ne nf ng nh"></div></div></button></div><div class="ge"><span><a href="https://medium.com/m/signin?actionUrl=/_/bookmark/p/ef41ff13f301&operation=register&redirect=https://medium.com/virtuslab/integrating-gdb-support-in-an-emulator-ef41ff13f301&source=post_sidebar-----ef41ff13f301---------------------bookmark_sidebar-----------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></span></div></div></div></div></div></div></div><div class="gt de le lf lg lh li lj lk ll"></div><div><div class="ni gn n lp p"><div class="n p"><div class="ab ac ae af ag dk ai aj"><div class="n nj"><div class="s"><h4 class="ce b cf cg ch">Thanks to <!-- -->Bartek Kowalik<!-- -->, <!-- -->Michał Pociecha<!-- -->, and <!-- -->Karolina Jaworek<!-- -->. </h4></div></div><div class="n o nj"><div class="s"><div class="ft"><h4 class="ce b cf cg ch"><div><div class="ft" role="tooltip" aria-hidden="false"><a href="http://creativecommons.org/publicdomain/zero/1.0/" class="ck cl au av aw ax ay az ba bb fd be co cp" target="_blank" rel="noopener nofollow">No rights reserved</a></div></div></h4></div><div class="ft"><h4 class="ce b cf cg ch"><span> by the author.</span><span class="ge" style="margin-left:5px;vertical-align:text-bottom"><svg width="21" height="21"><g fill-rule="evenodd"><path d="M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"></path><path d="M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"></path></g></svg></span></h4></div></div></div><div class="nk s"><ul class="az ba"><li class="ft bq gf nl"><a href="https://medium.com/virtuslab/tagged/tech" class="ce b cf nm ch nn no fu s iv">Tech</a></li><li class="ft bq gf nl"><a href="https://medium.com/virtuslab/tagged/emulation" class="ce b cf nm ch nn no fu s iv">Emulation</a></li><li class="ft bq gf nl"><a href="https://medium.com/virtuslab/tagged/rust" class="ce b cf nm ch nn no fu s iv">Rust</a></li><li class="ft bq gf nl"><a href="https://medium.com/virtuslab/tagged/gdb" class="ce b cf nm ch nn no fu s iv">Gdb</a></li></ul></div><div class="nk n em z"><div class="n lx"><div class="np s"><span class="s nq nr ns e d"><div class="n o"><div class="s gq mb mc md me mf"><span><a href="https://medium.com/m/signin?actionUrl=/_/vote/virtuslab/ef41ff13f301&operation=register&redirect=https://medium.com/virtuslab/integrating-gdb-support-in-an-emulator-ef41ff13f301&source=post_actions_footer-----ef41ff13f301---------------------clap_footer-----------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener"><div class="az mg mh mi mj mk ml mm r mn mo"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s mp mq mr ms mt mu mv"><div class="gq nt mw"><h4 class="ce b eu cg ek"><button class="ck cl au av aw ax ay az ba bb cm cn be co cp">8<span class="s h g f nu nv"> <!-- -->claps</span></button><span class="s h g f nu nv"></span></h4></div></div></div></span><span class="s h g f nu nv"><div class="n bu"><div class="s gq mb mc"><span><a href="https://medium.com/m/signin?actionUrl=/_/vote/virtuslab/ef41ff13f301&operation=register&redirect=https://medium.com/virtuslab/integrating-gdb-support-in-an-emulator-ef41ff13f301&source=post_actions_footer-----ef41ff13f301---------------------clap_footer-----------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener"><div class="az mg mh mi mj mk ml mm r mn mo"><svg width="33" height="33" viewBox="0 0 33 33" aria-label="clap"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></div></a></span></div><div class="s mp mq mr ms nw nx ny nz oa ob"><div class="gq nt mw"><h4 class="ce b eu cg ek"><button class="ck cl au av aw ax ay az ba bb cm cn be co cp">8<span class="s h g f nu nv"> <!-- -->claps</span></button><span class="s h g f nu nv"></span></h4></div></div></div></span></div><div class="s oc od oe of og"></div><button class="mj mh az"><div class="mz n o lx"><span class="oh s h g f nu nv"><svg width="33" height="33" viewBox="0 0 33 33" fill="none" class="r" aria-label="responses"><path clip-rule="evenodd" d="M24.28 25.5l.32-.29c2.11-1.94 3.4-4.61 3.4-7.56C28 11.83 22.92 7 16.5 7S5 11.83 5 17.65s5.08 10.66 11.5 10.66c1.22 0 2.4-.18 3.5-.5l.5-.15.41.33a8.86 8.86 0 0 0 4.68 2.1 7.34 7.34 0 0 1-1.3-4.15v-.43zm1 .45c0 1.5.46 2.62 1.69 4.44.22.32.01.75-.38.75a9.69 9.69 0 0 1-6.31-2.37c-1.2.35-2.46.54-3.78.54C9.6 29.3 4 24.09 4 17.65 4 11.22 9.6 6 16.5 6S29 11.22 29 17.65c0 3.25-1.42 6.18-3.72 8.3z"></path></svg></span><span class="oi s nq nr ns e d"><svg width="25" height="25" class="r" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg></span><div class="s gq oj nb ok nd ol nf om on oo op"></div></div></button></div><div class="n o"><div class="gd s ap"><button class="ck cl au av aw ax ay az ba bb cm cn be co cp" aria-label="Share on twitter"><svg width="29" height="29" class="ge"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></button></div><div class="gd s ap"><button class="ck cl au av aw ax ay az ba bb cm cn be co cp" aria-label="Share on linkedin"><svg width="29" height="29" viewBox="0 0 29 29" fill="none" class="ge"><path d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z" fill="#fff"></path></svg></button></div><div class="gd s ap"><button class="ck cl au av aw ax ay az ba bb cm cn be co cp" aria-label="Share on facebook"><svg width="29" height="29" class="ge"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></button></div><div class="oq s ap"><div class="ge"><span><a href="https://medium.com/m/signin?actionUrl=/_/bookmark/p/ef41ff13f301&operation=register&redirect=https://medium.com/virtuslab/integrating-gdb-support-in-an-emulator-ef41ff13f301&source=post_actions_footer--------------------------bookmark_footer-----------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></span></div></div></div></div></div></div><div><div class="n p"><div class="ab ac ae af ag dk ai aj"><div class="or bh os nk s ot z"><div class="s g"><div class="ou ov s gq"><span class="s ow am ox"><div class="s t oy oz"><a rel="noopener" href="https://medium.com/@mmikolajczyk?source=follow_footer-------------------------------------"><img alt="Marcin Mikołajczyk" class="s eq bx pa" src="https://miro.medium.com/fit/c/160/160/1*dmbNkD5D-u45r44go_cf0g.png" width="80" height="80"/></a></div><span class="s"><div class="pb s pc"><p class="ce b cf pd pe ch ci">Written by</p></div><div class="pb pf n pc"><div class="aj n o em"><h2 class="ce jd pg ph dm ek"><a class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener" href="https://medium.com/@mmikolajczyk?source=follow_footer-------------------------------------">Marcin Mikołajczyk</a></h2><div class="s g"><span><button class="ce b eu cg ff pi fh fi fj fk fl bb fm fn fo fp fq fr fs da ft fu">Follow</button></span></div></div></div></span></span><div class="pb pj s pc bi"><div class="pk s"><h4 class="ce b iz pl ch"></h4></div><div class="pm pn bi"><span><button class="ce b eu cg ff pi fh fi fj fk fl bb fm fn fo fp fq fr fs da ft fu">Follow</button></span></div></div></div><div class="or s"></div><div class="ou ov s gq"><span class="s ow am ox"><div class="s t oy oz"><a href="https://medium.com/virtuslab?source=follow_footer-------------------------------------" rel="noopener"><img alt="VirtusLab" class="fq pa bx" src="https://miro.medium.com/fit/c/160/160/1*D2qfRxUBXwXbc4UHb3PSwg.png" width="80" height="80"/></a></div><span class="s"><div class="pb pf n pc"><div class="aj n o em"><h2 class="ce jd pg ph dm ek"><a href="https://medium.com/virtuslab?source=follow_footer-------------------------------------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener">VirtusLab</a></h2><div class="s g"><div class="ft" aria-hidden="false"><span><button class="ce b eu cg ff pi fh fi fj fk fl bb fm fn fo fp fq fr fs da ft fu"><div class="n lx">Follow</div></button></span></div></div></div></div></span></span><div class="pb po s pc bi"><div class="pk s"><h4 class="ce b iz pl ch">Virtus Lab company blog</h4></div><div class="pm pn bi"><div class="ft" aria-hidden="false"><span><button class="ce b eu cg ff pi fh fi fj fk fl bb fm fn fo fp fq fr fs da ft fu"><div class="n lx">Follow</div></button></span></div></div></div></div></div><div class="pm bi"><div class="ie s"><div class="n lx"><div class="pp s"><a rel="noopener" href="https://medium.com/@mmikolajczyk?source=follow_footer-------------------------------------"><img alt="Marcin Mikołajczyk" class="s eq pq pr" src="https://miro.medium.com/fit/c/80/80/1*dmbNkD5D-u45r44go_cf0g.png" width="40" height="40"/></a></div><div class="et s"><p class="ce b ps pt pu ch ci">Written by</p><div class="n lx"><h2 class="ce jd iz cg dm ek"><a class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener" href="https://medium.com/@mmikolajczyk?source=follow_footer-------------------------------------">Marcin Mikołajczyk</a></h2><div class="et s"><span><button class="ce b cf cg ff fg fh fi fj fk fl bb fm fn fo fp fq fr fs da ft fu">Follow</button></span></div></div><div class="pv s"><h4 class="ce b eu cg ch"></h4></div></div></div><div class="ie s"><div class="n lx"><a href="https://medium.com/virtuslab?source=follow_footer-------------------------------------" rel="noopener"><img alt="VirtusLab" class="fq pr pq" src="https://miro.medium.com/fit/c/80/80/1*D2qfRxUBXwXbc4UHb3PSwg.png" width="40" height="40"/></a><div class="et s"><div class="n lx"><h2 class="ce jd iz cg dm ek"><a href="https://medium.com/virtuslab?source=follow_footer-------------------------------------" class="ck cl au av aw ax ay az ba bb cm cn be co cp" rel="noopener">VirtusLab</a></h2><div class="et s"><div class="ft" aria-hidden="false"><span><button class="ce b cf cg ff fg fh fi fj fk fl bb fm fn fo fp fq fr fs da ft fu"><div class="n lx">Follow</div></button></span></div></div></div><div class="pv s"><h4 class="ce b eu cg ch">Virtus Lab company blog</h4></div></div></div></div></div></div></div></div></div><div class="s pw z"><div class="n p"><div class="ab ac ae af ag ah ai aj"><div class="px py s"><div class="pz lr qa py s qb qc"><h2 class="ce jd je jg jh ji jk jl jm jo jp jq js jt ju jw jx ek">More From Medium</h2></div><div class="bu n lx nj qd qe qf qg qh qi qj qk ql qm qn qo qp qq qr"><div class="qs qt qu qv qw qx qy qz ra rb rc rd re rf rg rh ri rj rk rl rm"><div class="rn ro s"><div class="aj gv"><div class="n em"><div class="s bp rp rq rr"><div class="rs s"><h2 class="ce jd rt ru jh rv rw jl rx ry jp rz sa jt sb sc jx ek"><a rel="noopener" href="https://medium.com/swlh/understanding-linking-8709e2cc450e?source=post_internal_links---------0----------------------------">Understanding Linking</a></h2></div><div class="o n"><div></div><div class="aj s"><div class="n"><div style="flex:1"><span class="ce b eu cg ek"><div class="cq n o ew"><span class="ce b cf cg ek"><a class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener" href="https://medium.com/@kunaljaydesai?source=post_internal_links---------0----------------------------">Kunal Desai</a><span> <!-- -->in<!-- --> <a href="https://medium.com/swlh?source=post_internal_links---------0----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">The Startup</a></span></span></div></span></div></div></div></div></div><div class="et gf s sd se"><a class="ck cl au av aw ax ay az ba bb cm cn be co cp s" rel="noopener" href="https://medium.com/swlh/understanding-linking-8709e2cc450e?source=post_internal_links---------0----------------------------"><div class="gy s gq gz"><div class="sf hb s"><div class="gt gu t u v gv aj bk gw gx"><img class="t u v gv aj hc hd he" src="https://miro.medium.com/max/60/1*hn4v1tCaJy7cWMyb0bpNpQ.png?q=20" width="70" height="70" role="presentation"/></div><img class="gt gu sg sh si sj sk sl sm sn so sp c" width="70" height="70" role="presentation"/><noscript><img class="sg sh si sj sk sl sm sn so sp" src="https://miro.medium.com/fit/c/140/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png 48w, https://miro.medium.com/fit/c/140/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qs qt qu qv qw qx qy qz ra rb rc rd re rf rg rh ri rj rk rl rm"><div class="rn ro s"><div class="aj gv"><div class="n em"><div class="s bp rp rq rr"><div class="rs s"><h2 class="ce jd rt ru jh rv rw jl rx ry jp rz sa jt sb sc jx ek"><a rel="noopener" href="https://medium.com/better-programming/how-to-define-function-parameters-as-positional-keyword-or-both-in-python-8753ca2ac5ca?source=post_internal_links---------1----------------------------">How To Define Function Parameters As Positional, Keyword, or Both in Python</a></h2></div><div class="o n"><div></div><div class="aj s"><div class="n"><div style="flex:1"><span class="ce b eu cg ek"><div class="cq n o ew"><span class="ce b cf cg ek"><a href="https://jhsu98.medium.com/?source=post_internal_links---------1----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">Jonathan Hsu</a><span> <!-- -->in<!-- --> <a href="https://medium.com/better-programming?source=post_internal_links---------1----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">Better Programming</a></span></span></div></span></div></div></div></div></div><div class="et gf s sd se"><a class="ck cl au av aw ax ay az ba bb cm cn be co cp s" rel="noopener" href="https://medium.com/better-programming/how-to-define-function-parameters-as-positional-keyword-or-both-in-python-8753ca2ac5ca?source=post_internal_links---------1----------------------------"><div class="gy s gq gz"><div class="sf hb s"><div class="gt gu t u v gv aj bk gw gx"><img class="t u v gv aj hc hd he" src="https://miro.medium.com/max/60/1*4Kb1XcyAinllJ1Is5tCbmw.jpeg?q=20" width="70" height="70" role="presentation"/></div><img class="gt gu sg sh si sj sk sl sm sn so sp c" width="70" height="70" role="presentation"/><noscript><img class="sg sh si sj sk sl sm sn so sp" src="https://miro.medium.com/fit/c/140/140/1*4Kb1XcyAinllJ1Is5tCbmw.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*4Kb1XcyAinllJ1Is5tCbmw.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*4Kb1XcyAinllJ1Is5tCbmw.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qs qt qu qv qw qx qy qz ra rb rc rd re rf rg rh ri rj rk rl rm"><div class="rn ro s"><div class="aj gv"><div class="n em"><div class="s bp rp rq rr"><div class="rs s"><h2 class="ce jd rt ru jh rv rw jl rx ry jp rz sa jt sb sc jx ek"><a rel="noopener" href="https://medium.com/flutter-community/a-production-quality-flutter-starter-app-878801cb1d90?source=post_internal_links---------2----------------------------">A Production-Quality Flutter Starter App</a></h2></div><div class="o n"><div></div><div class="aj s"><div class="n"><div style="flex:1"><span class="ce b eu cg ek"><div class="cq n o ew"><span class="ce b cf cg ek"><a class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener" href="https://medium.com/@gregertw?source=post_internal_links---------2----------------------------">Greger Teigre Wedel</a><span> <!-- -->in<!-- --> <a href="https://medium.com/flutter-community?source=post_internal_links---------2----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">Flutter Community</a></span></span></div></span></div></div></div></div></div><div class="et gf s sd se"><a class="ck cl au av aw ax ay az ba bb cm cn be co cp s" rel="noopener" href="https://medium.com/flutter-community/a-production-quality-flutter-starter-app-878801cb1d90?source=post_internal_links---------2----------------------------"><div class="gy s gq gz"><div class="sf hb s"><div class="gt gu t u v gv aj bk gw gx"><img class="t u v gv aj hc hd he" src="https://miro.medium.com/max/60/0*iYhdKlWQXsjHhj0b.jpg?q=20" width="70" height="70" role="presentation"/></div><img class="gt gu sg sh si sj sk sl sm sn so sp c" width="70" height="70" role="presentation"/><noscript><img class="sg sh si sj sk sl sm sn so sp" src="https://miro.medium.com/fit/c/140/140/0*iYhdKlWQXsjHhj0b.jpg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/0*iYhdKlWQXsjHhj0b.jpg 48w, https://miro.medium.com/fit/c/140/140/0*iYhdKlWQXsjHhj0b.jpg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qs qt qu qv qw qx qy qz ra rb rc rd re rf rg rh ri rj rk rl rm"><div class="rn ro s"><div class="aj gv"><div class="n em"><div class="s bp rp rq rr"><div class="rs s"><h2 class="ce jd rt ru jh rv rw jl rx ry jp rz sa jt sb sc jx ek"><a rel="noopener" href="https://medium.com/swlh/how-to-set-up-a-facebook-messenger-bot-to-deep-fry-images-on-your-group-chats-69581d2e3a7f?source=post_internal_links---------3----------------------------">How to Set up a Facebook Messenger Bot to Deep Fry Images on Your Group Chats</a></h2></div><div class="o n"><div></div><div class="aj s"><div class="n"><div style="flex:1"><span class="ce b eu cg ek"><div class="cq n o ew"><span class="ce b cf cg ek"><a class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener" href="https://medium.com/@ethanr2000?source=post_internal_links---------3----------------------------">Ethan Roberts</a><span> <!-- -->in<!-- --> <a href="https://medium.com/swlh?source=post_internal_links---------3----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">The Startup</a></span></span></div></span></div></div></div></div></div><div class="et gf s sd se"><a class="ck cl au av aw ax ay az ba bb cm cn be co cp s" rel="noopener" href="https://medium.com/swlh/how-to-set-up-a-facebook-messenger-bot-to-deep-fry-images-on-your-group-chats-69581d2e3a7f?source=post_internal_links---------3----------------------------"><div class="gy s gq gz"><div class="sf hb s"><div class="gt gu t u v gv aj bk gw gx"><img class="t u v gv aj hc hd he" src="https://miro.medium.com/max/60/0*_zy7FMa6fKGyWUPo?q=20" width="70" height="70" role="presentation"/></div><img class="gt gu sg sh si sj sk sl sm sn so sp c" width="70" height="70" role="presentation"/><noscript><img class="sg sh si sj sk sl sm sn so sp" src="https://miro.medium.com/fit/c/140/140/0*_zy7FMa6fKGyWUPo" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/0*_zy7FMa6fKGyWUPo 48w, https://miro.medium.com/fit/c/140/140/0*_zy7FMa6fKGyWUPo 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qs qt qu qv qw qx qy qz ra rb rc rd re rf rg rh ri rj rk rl rm"><div class="rn ro s"><div class="aj gv"><div class="n em"><div class="s bp rp rq rr"><div class="rs s"><h2 class="ce jd rt ru jh rv rw jl rx ry jp rz sa jt sb sc jx ek"><a rel="noopener" href="https://medium.com/sound-and-design/voltage-control-visualization-in-vcv-rack-695759dd118e?source=post_internal_links---------4----------------------------">Voltage Control Visualization in VCV Rack</a></h2></div><div class="o n"><div></div><div class="aj s"><div class="n"><div style="flex:1"><span class="ce b eu cg ek"><div class="cq n o ew"><span class="ce b cf cg ek"><a href="https://michael-filimowicz.medium.com/?source=post_internal_links---------4----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">Michael &#x27;Myk Eff&#x27; Filimowicz, PhD</a><span> <!-- -->in<!-- --> <a href="https://medium.com/sound-and-design?source=post_internal_links---------4----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">Sound and Design</a></span></span></div></span></div></div></div></div></div><div class="et gf s sd se"><a class="ck cl au av aw ax ay az ba bb cm cn be co cp s" rel="noopener" href="https://medium.com/sound-and-design/voltage-control-visualization-in-vcv-rack-695759dd118e?source=post_internal_links---------4----------------------------"><div class="gy s gq gz"><div class="sf hb s"><div class="gt gu t u v gv aj bk gw gx"><img class="t u v gv aj hc hd he" src="https://miro.medium.com/max/60/1*sP4aFTt7EnypjIQ9mAXdYw.jpeg?q=20" width="70" height="70" role="presentation"/></div><img class="gt gu sg sh si sj sk sl sm sn so sp c" width="70" height="70" role="presentation"/><noscript><img class="sg sh si sj sk sl sm sn so sp" src="https://miro.medium.com/fit/c/140/140/1*sP4aFTt7EnypjIQ9mAXdYw.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*sP4aFTt7EnypjIQ9mAXdYw.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*sP4aFTt7EnypjIQ9mAXdYw.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qs qt qu qv qw qx qy qz ra rb rc rd re rf rg rh ri rj rk rl rm"><div class="rn ro s"><div class="aj gv"><div class="n em"><div class="s bp rp rq rr"><div class="rs s"><h2 class="ce jd rt ru jh rv rw jl rx ry jp rz sa jt sb sc jx ek"><a rel="noopener" href="https://medium.com/swlh/tutorial-getting-started-with-rust-and-redis-69041dd38279?source=post_internal_links---------5----------------------------">Tutorial: Getting Started With Rust and Redis</a></h2></div><div class="o n"><div></div><div class="aj s"><div class="n"><div style="flex:1"><span class="ce b eu cg ek"><div class="cq n o ew"><span class="ce b cf cg ek"><a href="https://abhishek1987.medium.com/?source=post_internal_links---------5----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">Abhishek Gupta</a><span> <!-- -->in<!-- --> <a href="https://medium.com/swlh?source=post_internal_links---------5----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">The Startup</a></span></span></div></span></div></div></div></div></div><div class="et gf s sd se"><a class="ck cl au av aw ax ay az ba bb cm cn be co cp s" rel="noopener" href="https://medium.com/swlh/tutorial-getting-started-with-rust-and-redis-69041dd38279?source=post_internal_links---------5----------------------------"><div class="gy s gq gz"><div class="sf hb s"><div class="gt gu t u v gv aj bk gw gx"><img class="t u v gv aj hc hd he" src="https://miro.medium.com/max/60/0*cpB0qdgHSlXlYzZ1?q=20" width="70" height="70" role="presentation"/></div><img class="gt gu sg sh si sj sk sl sm sn so sp c" width="70" height="70" role="presentation"/><noscript><img class="sg sh si sj sk sl sm sn so sp" src="https://miro.medium.com/fit/c/140/140/0*cpB0qdgHSlXlYzZ1" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/0*cpB0qdgHSlXlYzZ1 48w, https://miro.medium.com/fit/c/140/140/0*cpB0qdgHSlXlYzZ1 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qs qt qu qv qw qx qy qz ra rb rc rd re rf rg rh ri rj rk rl rm"><div class="rn ro s"><div class="aj gv"><div class="n em"><div class="s bp rp rq rr"><div class="rs s"><h2 class="ce jd rt ru jh rv rw jl rx ry jp rz sa jt sb sc jx ek"><a rel="noopener" href="https://medium.com/swlh/a-python-style-set-in-simple-java-698977f1b5d0?source=post_internal_links---------6----------------------------">A Python-style Set in simple Java</a></h2></div><div class="o n"><div></div><div class="aj s"><div class="n"><div style="flex:1"><span class="ce b eu cg ek"><div class="cq n o ew"><span class="ce b cf cg ek"><a href="https://danhalesprogramming.medium.com/?source=post_internal_links---------6----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">Dan Hales</a><span> <!-- -->in<!-- --> <a href="https://medium.com/swlh?source=post_internal_links---------6----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">The Startup</a></span></span></div></span></div></div></div></div></div><div class="et gf s sd se"><a class="ck cl au av aw ax ay az ba bb cm cn be co cp s" rel="noopener" href="https://medium.com/swlh/a-python-style-set-in-simple-java-698977f1b5d0?source=post_internal_links---------6----------------------------"><div class="gy s gq gz"><div class="sf hb s"><div class="gt gu t u v gv aj bk gw gx"><img class="t u v gv aj hc hd he" src="https://miro.medium.com/max/60/1*RK3fO3kISM_MSaDcueVIiw.png?q=20" width="70" height="70" role="presentation"/></div><img class="gt gu sg sh si sj sk sl sm sn so sp c" width="70" height="70" role="presentation"/><noscript><img class="sg sh si sj sk sl sm sn so sp" src="https://miro.medium.com/fit/c/140/140/1*RK3fO3kISM_MSaDcueVIiw.png" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*RK3fO3kISM_MSaDcueVIiw.png 48w, https://miro.medium.com/fit/c/140/140/1*RK3fO3kISM_MSaDcueVIiw.png 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qs qt qu qv qw qx qy qz ra rb rc rd re rf rg rh ri rj rk rl rm"><div class="rn ro s"><div class="aj gv"><div class="n em"><div class="s bp rp rq rr"><div class="rs s"><h2 class="ce jd rt ru jh rv rw jl rx ry jp rz sa jt sb sc jx ek"><a href="https://wmclane.medium.com/how-to-optimize-mirrormaker2-for-high-performance-apache-kafka-replication-697bc5089c64?source=post_internal_links---------7----------------------------" rel="noopener">How to optimize MirrorMaker2 for High Performance Apache Kafka Replication</a></h2></div><div class="o n"><div></div><div class="aj s"><div class="n"><div style="flex:1"><span class="ce b eu cg ek"><div class="cq n o ew"><span class="ce b cf cg ek"><a href="https://wmclane.medium.com/?source=post_internal_links---------7----------------------------" class="ck cl au av aw ax ay az ba bb fd be co cp" rel="noopener">William Mclane</a></span></div></span></div></div></div></div></div><div class="et gf s sd se"><a href="https://wmclane.medium.com/how-to-optimize-mirrormaker2-for-high-performance-apache-kafka-replication-697bc5089c64?source=post_internal_links---------7----------------------------" class="ck cl au av aw ax ay az ba bb cm cn be co cp s" rel="noopener"><div class="gy s gq gz"><div class="sf hb s"><div class="gt gu t u v gv aj bk gw gx"><img class="t u v gv aj hc hd he" src="https://miro.medium.com/max/60/1*af8fg-VFtoOSvQyodGtbXg.png?q=20" width="70" height="70" role="presentation"/></div><img class="gt gu sg sh si sj sk sl sm sn so sp c" width="70" height="70" role="presentation"/><noscript><img class="sg sh si sj sk sl sm sn so sp" src="https://miro.medium.com/fit/c/140/140/1*af8fg-VFtoOSvQyodGtbXg.png" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*af8fg-VFtoOSvQyodGtbXg.png 48w, https://miro.medium.com/fit/c/140/140/1*af8fg-VFtoOSvQyodGtbXg.png 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></div><div class="sq s sr ss"><div class="n p"><div class="ab ac ae af ag ah ai aj"><div class="st su ou n em g"><div class="sv n em"><div class="sw s sx"><div class="rs s"><a href="https://medium.com/about?autoplay=1&source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb sy sz be ta tb" rel="noopener"><h2 class="ce jd tc pl dm td">Learn more.</h2></a></div><h4 class="ce b eu cg te">Medium<!-- --> is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface.<!-- --> <a href="https://medium.com/about?autoplay=1&source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb be ta tb ik" rel="noopener">Learn more</a></h4></div><div class="sw s sx"><div class="rs s"><a href="https://medium.com/topics?source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb sy sz be ta tb" rel="noopener"><h2 class="ce jd tc pl dm td">Make <!-- -->Medium<!-- --> yours.</h2></a></div><h4 class="ce b eu cg te">Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox.<!-- --> <a href="https://medium.com/topics?source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb be ta tb ik" rel="noopener">Explore</a></h4></div><div class="sw s sx"><div class="rs s"><a href="https://about.medium.com/creators/?source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb sy sz be ta tb" rel="noopener"><h2 class="ce jd tc pl dm td">Share your thinking.</h2></a></div><h4 class="ce b eu cg te">If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic.<!-- --> <a href="https://about.medium.com/creators/?source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb be ta tb ik" rel="noopener">Write on <!-- -->Medium</a></h4></div></div></div><div class="n lp"><div class="n o em"><a aria-label="Go to homepage" class="ck cl au av aw ax ay az ba bb sy sz be ta tb" rel="noopener" href="https://medium.com/?source=post_page-----ef41ff13f301--------------------------------"><svg viewBox="0 0 3940 610" class="fh tf"><path d="M594.79 308.2c0 163.76-131.85 296.52-294.5 296.52S5.8 472 5.8 308.2 137.65 11.69 300.29 11.69s294.5 132.75 294.5 296.51M917.86 308.2c0 154.16-65.93 279.12-147.25 279.12s-147.25-125-147.25-279.12S689.29 29.08 770.61 29.08s147.25 125 147.25 279.12M1050 308.2c0 138.12-23.19 250.08-51.79 250.08s-51.79-112-51.79-250.08 23.19-250.08 51.8-250.08S1050 170.09 1050 308.2M1862.77 37.4l.82-.18v-6.35h-167.48l-155.51 365.5-155.51-365.5h-180.48v6.35l.81.18c30.57 6.9 46.09 17.19 46.09 54.3v434.45c0 37.11-15.58 47.4-46.15 54.3l-.81.18V587H1327v-6.35l-.81-.18c-30.57-6.9-46.09-17.19-46.09-54.3V116.9L1479.87 587h11.33l205.59-483.21V536.9c-2.62 29.31-18 38.36-45.68 44.61l-.82.19v6.3h213.3v-6.3l-.82-.19c-27.71-6.25-43.46-15.3-46.08-44.61l-.14-445.2h.14c0-37.11 15.52-47.4 46.08-54.3m97.43 287.8c3.49-78.06 31.52-134.4 78.56-135.37 14.51.24 26.68 5 36.14 14.16 20.1 19.51 29.55 60.28 28.09 121.21zm-2.11 22h250v-1.05c-.71-59.69-18-106.12-51.34-138-28.82-27.55-71.49-42.71-116.31-42.71h-1c-23.26 0-51.79 5.64-72.09 15.86-23.11 10.7-43.49 26.7-60.45 47.7-27.3 33.83-43.84 79.55-47.86 130.93-.13 1.54-.24 3.08-.35 4.62s-.18 2.92-.25 4.39a332.64 332.64 0 0 0-.36 21.69C1860.79 507 1923.65 600 2035.3 600c98 0 155.07-71.64 169.3-167.8l-7.19-2.53c-25 51.68-69.9 83-121 79.18-69.76-5.22-123.2-75.95-118.35-161.63m532.69 157.68c-8.2 19.45-25.31 30.15-48.24 30.15s-43.89-15.74-58.78-44.34c-16-30.7-24.42-74.1-24.42-125.51 0-107 33.28-176.21 84.79-176.21 21.57 0 38.55 10.7 46.65 29.37zm165.84 76.28c-30.57-7.23-46.09-18-46.09-57V5.28L2424.77 60v6.7l1.14-.09c25.62-2.07 43 1.47 53.09 10.79 7.9 7.3 11.75 18.5 11.75 34.26v71.14c-18.31-11.69-40.09-17.38-66.52-17.38-53.6 0-102.59 22.57-137.92 63.56-36.83 42.72-56.3 101.1-56.3 168.81C2230 518.72 2289.53 600 2378.13 600c51.83 0 93.53-28.4 112.62-76.3V588h166.65v-6.66zm159.29-505.33c0-37.76-28.47-66.24-66.24-66.24-37.59 0-67 29.1-67 66.24s29.44 66.24 67 66.24c37.77 0 66.24-28.48 66.24-66.24m43.84 505.33c-30.57-7.23-46.09-18-46.09-57h-.13V166.65l-166.66 47.85v6.5l1 .09c36.06 3.21 45.93 15.63 45.93 57.77V588h166.8v-6.66zm427.05 0c-30.57-7.23-46.09-18-46.09-57V166.65L3082 212.92v6.52l.94.1c29.48 3.1 38 16.23 38 58.56v226c-9.83 19.45-28.27 31-50.61 31.78-36.23 0-56.18-24.47-56.18-68.9V166.66l-166.66 47.85V221l1 .09c36.06 3.2 45.94 15.62 45.94 57.77v191.27a214.48 214.48 0 0 0 3.47 39.82l3 13.05c14.11 50.56 51.08 77 109 77 49.06 0 92.06-30.37 111-77.89v66h166.66v-6.66zM3934.2 588v-6.67l-.81-.19c-33.17-7.65-46.09-22.07-46.09-51.43v-243.2c0-75.83-42.59-121.09-113.93-121.09-52 0-95.85 30.05-112.73 76.86-13.41-49.6-52-76.86-109.06-76.86-50.12 0-89.4 26.45-106.25 71.13v-69.87l-166.66 45.89v6.54l1 .09c35.63 3.16 45.93 15.94 45.93 57V588h155.5v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66V255.72c7-16.35 21.11-35.72 49-35.72 34.64 0 52.2 24 52.2 71.28V588h155.54v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66v-248a160.45 160.45 0 0 0-2.2-27.68c7.42-17.77 22.34-38.8 51.37-38.8 35.13 0 52.2 23.31 52.2 71.28V588z"></path></svg></a><h4 class="ce b eu cg te"><div class="pv tg n em th am"><h4 class="ce b iz pl td"><a href="https://medium.com/about?autoplay=1&source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb fd be ta tb" rel="noopener">About</a></h4><h4 class="ce b iz pl td"><a href="https://help.medium.com/hc/en-us?source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb fd be ta tb" rel="noopener">Help</a></h4><h4 class="ce b iz pl td"><a href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb fd be ta tb" rel="noopener">Legal</a></h4></div></h4></div><div class="pm ti tj am"><h4 class="ce b iz pl te">Get the Medium app</h4></div><div class="pm ti tk am tl"><div class="tm s"><a href="https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb sy sz be ta tb" rel="noopener nofollow"><img alt="A button that says &#x27;Download on the App Store&#x27;, and if clicked it will lead you to the iOS App store" class="" src="https://miro.medium.com/max/270/1*Crl55Tm6yDNMoucPo1tvDg.png" width="135" height="41"/></a></div><div class="s"><a href="https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ef41ff13f301--------------------------------" class="ck cl au av aw ax ay az ba bb sy sz be ta tb" rel="noopener nofollow"><img alt="A button that says &#x27;Get it on, Google Play&#x27;, and if clicked it will lead you to the Google Play store" class="" src="https://miro.medium.com/max/270/1*W_RAPQ62h0em559zluJLdQ.png" width="135" height="41"/></a></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__ = "main-20210122-205323-8abb229433"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"auroraPage":{"isAuroraPageEnabled":false},"config":{"nodeEnv":"production","version":"main-20210122-205323-8abb229433","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"lightstep.medium.systems","token":"ce5be895bef60919541332990ac9fef2","appVersion":"main-20210122-205323-8abb229433"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","context":{"deployment":{"target":"production","tag":"main-20210122-205323-8abb229433","commit":"8abb2294330fbb69a07f037e6fe49e3855d516cc"}},"datacenter":"us"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e","9dc80918cc93","8a9336e5bb4","cef6983b292","54c98c43354d","193b68bd4fba","b7e45b22fec3","55760f21cdc5"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*3sela1OADrJr7dJk_CXaEQ.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"performanceTags":[],"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","errorTracking":"none"},"debug":{"requestId":"cde1ddc2-a98f-4cc4-b1ee-90c5dd5ab321","branchDeployConfig":null,"originalSpanCarrier":{"ot-tracer-spanid":"6120349d079b0d5d","ot-tracer-traceid":"5429be91272b229d","ot-tracer-sampled":"true"}},"session":{"user":{"id":"lo_a644643c0be4"},"xsrf":"","isSpoofed":false},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002Fvirtuslab\u002Fintegrating-gdb-support-in-an-emulator-ef41ff13f301","host":"medium.com","hostname":"medium.com","susiModal":{"step":null,"operation":"register"},"postRead":false},"client":{"isBot":false,"isEu":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"inAppBrowserName":"","routingEntity":{"type":"DEFAULT","explicit":false},"supportsWebp":false,"edgeCacheEnabled":false},"multiVote":{"clapsPerPost":{}},"tracing":{}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","variantFlags":[{"__typename":"VariantFlag","name":"allow_access","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_signup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_test_auth","valueType":{"__typename":"VariantFlagString","value":"disallow"}},{"__typename":"VariantFlag","name":"android_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"assign_default_topic_to_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_plan","valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"}},{"__typename":"VariantFlag","name":"available_monthly_plan","valueType":{"__typename":"VariantFlagString","value":"60e220181034"}},{"__typename":"VariantFlag","name":"bane_add_user","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"bane_verify_domain","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"branch_seo_metadata","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"browsable_stream_config_bucket","valueType":{"__typename":"VariantFlagString","value":"curated-topics"}},{"__typename":"VariantFlag","name":"coronavirus_topic_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"covid_19_cdc_banner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"default_seo_post_titles","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_android_subscription_activity_carousel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_ios_resume_reading_toast","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_ios_subscription_activity_carousel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_mobile_featured_chunk","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_post_recommended_from_friends_provider","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_local_currency","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_annual_renewal_reminder_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_app_flirty_thirty","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_parse_expires_at","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook_renewal_failure","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_about_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_general_admission","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_profile_follow_pages","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_profile_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_pub_follower_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_sticky_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_tag_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_autotier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_automated_mission_control_triggers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_apple_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_client","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_integration","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_paypal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_io","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_text_me_the_app","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branding_fonts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cleansweep_double_writes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_client_error_tracking","valueType":{"__typename":"VariantFlagString","value":"none"}},{"__typename":"VariantFlag","name":"enable_confirm_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cta_meter","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_curation_priority_queue_experiment","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_dedicated_series_tab_api_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_feature_logging","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_tagline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_earn_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_edit_alt_text","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_email_sign_in_captcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_email_to_subscribers_after_publish","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_embedding_based_diversification","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_end_of_post_cleanup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_evhead_com_to_ev_medium_com_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_expanded_feature_chunk_pool","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_by_resend_rules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_expire_processor","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_footer_app_buttons","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_fyf_authors_and_collections","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_global_susi_modal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_one_tap","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_cancelled","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_highlander_member_digest","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hightower_user_minimum_guarantee","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_homepage_write_button","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_increased_digest_timeout","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_post_stats","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_json_logs_trained_ranker","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex_app_highlights","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex_daily_digest","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_notifications","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_pay_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_post","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_post_cd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_post_highlights","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_post_highlights_view_only","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_profile","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_pub_homepage_for_selected_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_server_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_stories","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_threaded_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_topics","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_unread_notification_count_mutation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_login_code_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_marketing_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_media_resource_try_catch","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium2_kbfd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_membership_remove_section_a","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_miro_on_kubernetes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mission_control","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_rex_anno","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mute","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_checkout_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_collaborative_filtering_data","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_three_dot_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_parsely","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_patronus_on_kubernetes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_popularity_feature","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_import","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_page_nav_stickiness_removal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_settings_screen","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_primary_topic_for_mobile","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_profile_design_reminder","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_profile_page_seo_titles","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_all","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_edit_and_delete","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_moderation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_follow_feed_cache","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rito_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rtr_channel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_s3_sites","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_save_to_medium","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_signup_friction","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace_ranker_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tick_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipalti_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_topic_lifecycle_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trending_posts_diversification","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tribute_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_triton_predictions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trumpland_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_unbound","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_unfiltered_cf","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"glyph_font_set","valueType":{"__typename":"VariantFlagString","value":"m2-unbound"}},{"__typename":"VariantFlag","name":"google_sign_in_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_generic_home_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_home_post_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_iceland_paywall","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_pub_follow_email_opt_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"is_not_medium_subscriber","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"kill_fastrak","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"kill_stripe_express","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_post_referrers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_user_follows","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"make_nav_sticky","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"new_transition_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"provider_for_credit_card_form","valueType":{"__typename":"VariantFlagString","value":"BRAINTREE"}},{"__typename":"VariantFlag","name":"pub_sidebar","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"redefine_average_post_reading_time","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"remove_post_post_similarity","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"retrained_ranker","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"sign_up_with_email_button","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"signin_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"signup_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"skip_sign_in_recaptcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"suppress_apple_missing_expires_date_alert","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"use_new_admin_topic_backend","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"xgboost_auto_suspend","valueType":{"__typename":"VariantFlagBoolean","value":true}}],"viewer":null,"meterPost({\"postId\":\"ef41ff13f301\",\"postMeteringOptions\":{}})":{"__ref":"MeteringInfo:{}"},"postResult({\"id\":\"ef41ff13f301\"})":{"__ref":"Post:ef41ff13f301"}},"MeteringInfo:{}":{"__typename":"MeteringInfo","postIds":[],"maxUnlockCount":3,"unlocksRemaining":3},"ImageMetadata:":{"id":"","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"ImageMetadata:1*1qj8ByGnlHyGPx490RUErw.png":{"id":"1*1qj8ByGnlHyGPx490RUErw.png","__typename":"ImageMetadata","originalWidth":1601,"originalHeight":625},"User:bddda2023127":{"id":"bddda2023127","__typename":"User"},"ImageMetadata:1*D2qfRxUBXwXbc4UHb3PSwg.png":{"id":"1*D2qfRxUBXwXbc4UHb3PSwg.png","__typename":"ImageMetadata"},"Collection:3afbc2931076":{"id":"3afbc2931076","__typename":"Collection","domain":null,"googleAnalyticsId":null,"slug":"virtuslab","colorBehavior":"ACCENT_COLOR","isAuroraVisible":false,"favicon":{"__ref":"ImageMetadata:"},"name":"VirtusLab","colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFFFFFFF","point":0},{"__typename":"ColorPoint","color":"#FFE8F3E8","point":0.1},{"__typename":"ColorPoint","color":"#FFE8F3E8","point":0.2},{"__typename":"ColorPoint","color":"#FFD1E7D1","point":0.6},{"__typename":"ColorPoint","color":"#FFA3D0A2","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF1A8917","point":0},{"__typename":"ColorPoint","color":"#FF11800E","point":0.1},{"__typename":"ColorPoint","color":"#FF0F730C","point":0.2},{"__typename":"ColorPoint","color":"#FF095407","point":1}]},"tintBackgroundSpectrum":null},"customStyleSheet":null,"tagline":"Virtus Lab company blog","isAuroraEligible":false,"viewerIsEditor":false,"logo":{"__ref":"ImageMetadata:1*1qj8ByGnlHyGPx490RUErw.png"},"navItems":[{"__typename":"NavItem","title":"Best Hits","url":"https:\u002F\u002Fmedium.com\u002Fvirtuslab\u002Fbest-hits\u002Fhome","type":"TOPIC_PAGE"},{"__typename":"NavItem","title":"Tech","url":"https:\u002F\u002Fmedium.com\u002Fvirtuslab\u002Ftagged\u002Ftech","type":"TAG_NAV_ITEM"},{"__typename":"NavItem","title":"VirtusLab.com","url":"http:\u002F\u002Fvirtuslab.com\u002F","type":"EXTERNAL_LINK_NAV_ITEM"}],"creator":{"__ref":"User:bddda2023127"},"subscriberCount":208,"avatar":{"__ref":"ImageMetadata:1*D2qfRxUBXwXbc4UHb3PSwg.png"},"isEnrolledInHightower":false,"newsletterV3":null,"viewerIsFollowing":false,"viewerIsSubscribedToLetters":false,"canToggleEmail":false,"isUserSubscribedToCollectionEmails":false,"viewerIsMuting":false,"viewerCanEditOwnPosts":false,"viewerCanEditPosts":false,"description":"Virtus Lab company blog","ampEnabled":false,"twitterUsername":"VirtusLab","facebookPageId":null},"User:e0b6179b5b8c":{"id":"e0b6179b5b8c","__typename":"User","isSuspended":false,"name":"Marcin Mikołajczyk","hasCompletedProfile":false,"bio":"","imageId":"1*dmbNkD5D-u45r44go_cf0g.png","customStyleSheet":null,"hasDomain":false,"username":"mmikolajczyk","isAuroraVisible":true,"socialStats":{"__typename":"SocialStats","followerCount":3},"isBlocking":null,"mediumMemberAt":0,"isMuting":null,"isFollowing":null,"allowNotes":true,"newsletterV3":null,"viewerIsUser":false,"twitterScreenName":"","isPartnerProgramEnrolled":false},"Paragraph:a3ea0bd7e01b_0":{"id":"a3ea0bd7e01b_0","__typename":"Paragraph","name":"ebcd","text":"Integrating GDB support in an emulator","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_1":{"id":"a3ea0bd7e01b_1","__typename":"Paragraph","name":"f653","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*b6kdm_3iEOGKipw1GYJtgA.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_2":{"id":"a3ea0bd7e01b_2","__typename":"Paragraph","name":"704b","text":"Writing an emulator was one of the project ideas that I had in my mind for “sometime in the future”. Turns out, during the mandatory quarantine, I suddenly had much more free time and decided to put that into something real.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_3":{"id":"a3ea0bd7e01b_3","__typename":"Paragraph","name":"499d","text":"One of the interesting design spaces was implementing GDB support. This would significantly speed up development, as I could use a well-known swiss army tool of debugging and not implement provided functionalities myself. In this article, I will strive to describe the whole process.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_4":{"id":"a3ea0bd7e01b_4","__typename":"Paragraph","name":"50eb","text":"As an example, I will use a simplistic implementation of MIPS R3000A processor emulator, implemented in Rust. This implementation is based on an early version of CPU interpreter in the PlayStation emulator called Rustation by Lionel Flandrin (available at https:\u002F\u002Fgithub.com\u002Fsimias\u002Frustation). The initial project that I’m providing is simplified and cut down for better understanding.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":256,"end":291,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fsimias\u002Frustation","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_5":{"id":"a3ea0bd7e01b_5","__typename":"Paragraph","name":"3c4e","text":"If you’d like to follow along, you’ll need:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_6":{"id":"a3ea0bd7e01b_6","__typename":"Paragraph","name":"18ac","text":"Rust compiler (I’m using version 1.42.0), along with some basic Rust knowledge,","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_7":{"id":"a3ea0bd7e01b_7","__typename":"Paragraph","name":"2d2f","text":"initial project from https:\u002F\u002Fgithub.com\u002Fmikusp\u002Fmips-emu-gdb-example\u002F,","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":21,"end":69,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fmikusp\u002Fmips-emu-gdb-example\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_8":{"id":"a3ea0bd7e01b_8","__typename":"Paragraph","name":"2b68","text":"gdb-multiarch,","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_9":{"id":"a3ea0bd7e01b_9","__typename":"Paragraph","name":"898a","text":"some program for MIPS architecture (see epilogue at the end if you want to compile one).","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_10":{"id":"a3ea0bd7e01b_10","__typename":"Paragraph","name":"f688","text":"Although GDB remote debugging protocol uses TCP connectivity, I didn’t want to start at a such low level and decided to look for some library. It seems there are two main choices:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":90,"end":94,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_11":{"id":"a3ea0bd7e01b_11","__typename":"Paragraph","name":"b95d","text":"gdbstub","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":7,"type":"A","href":"https:\u002F\u002Fdocs.rs\u002Fgdbstub\u002F0.1.2\u002Fgdbstub\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_12":{"id":"a3ea0bd7e01b_12","__typename":"Paragraph","name":"bf00","text":"rust-gdb-remote-protocol","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":24,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fluser\u002Frust-gdb-remote-protocol","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_13":{"id":"a3ea0bd7e01b_13","__typename":"Paragraph","name":"900a","text":"I had more success with the latter, so this is my library of choice. Firstly, we need to add the library as a dependency in Cargo.toml file:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_14":{"id":"a3ea0bd7e01b_14","__typename":"Paragraph","name":"39e6","text":"[dependencies]\ngdb-remote-protocol = { git = \"https:\u002F\u002Fgithub.com\u002Fluser\u002Frust-gdb-remote-protocol\" }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_15":{"id":"a3ea0bd7e01b_15","__typename":"Paragraph","name":"75b6","text":"Now, let’s familiarize ourselves with the structure of the main function:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_16":{"id":"a3ea0bd7e01b_16","__typename":"Paragraph","name":"39bc","text":"fn main() {\n    let mut path = None;\n    \u002F\u002F read path from command-line arguments\n    \n    let mut cpu = Cpu::new(path.expect(\"filepath error\"));\n    loop { \n        cpu.run_next_instruction();\n    }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_17":{"id":"a3ea0bd7e01b_17","__typename":"Paragraph","name":"7437","text":"At the beginning, we read the path to a binary program and provide this path to our Cpu object. The constructor of Cpu will read the program, place it into memory to be executed and initialize all internal structures. Then, we invoke Cpu::run_next_instruction(&mut self) method in a loop to execute instructions.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_18":{"id":"a3ea0bd7e01b_18","__typename":"Paragraph","name":"12a8","text":"As there is no documentation available for rust-gdb-remote-protocol, I took my first steps to examples directory, where a file noop-server.rs lives:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":94,"end":103,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_19":{"id":"a3ea0bd7e01b_19","__typename":"Paragraph","name":"5e22","text":"struct NoopHandler;\n\nimpl Handler for NoopHandler {\n    fn attached(&self, _pid: Option\u003Cu64\u003E) -\u003E Result\u003CProcessType, Error\u003E {\n        Ok(ProcessType::Created)\n    }\n\n    fn halt_reason(&self) -\u003E Result\u003CStopReason, Error\u003E {\n        Ok(StopReason::Exited(23, 0))\n    }\n}\n\n#[cfg_attr(test, allow(dead_code))]\nfn main() {\n    drop(env_logger::init());\n    let listener = TcpListener::bind(\"0.0.0.0:2424\").unwrap();\n    println!(\"Listening on port 2424\");\n    for res in listener.incoming() {\n        println!(\"Got connection\");\n        if let Ok(stream) = res {\n            let h = NoopHandler;\n            process_packets_from(stream.try_clone().unwrap(), stream, h);\n        }\n        println!(\"Connection closed\");\n    }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_20":{"id":"a3ea0bd7e01b_20","__typename":"Paragraph","name":"9457","text":"From this snippet we can deduce that implementation of the Handler trait determines how our Cpu will be communicating with GDB. We need to provide a TCP connection and that the debugging process is controlled by process_packets_from function provided by the library.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_21":{"id":"a3ea0bd7e01b_21","__typename":"Paragraph","name":"5140","text":"Let’s start then!","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_22":{"id":"a3ea0bd7e01b_22","__typename":"Paragraph","name":"d8da","text":"For the purpose of implementing the Handler trait, I’ve added a new struct representing the state:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_23":{"id":"a3ea0bd7e01b_23","__typename":"Paragraph","name":"6c32","text":"use std::cell::RefCell;\nuse gdb_remote_protocol::*;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_24":{"id":"a3ea0bd7e01b_24","__typename":"Paragraph","name":"95ff","text":"pub struct GdbState {\n    cpu: RefCell\u003CCpu\u003E\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_25":{"id":"a3ea0bd7e01b_25","__typename":"Paragraph","name":"7053","text":"impl GdbState {\n    pub fn new(cpu: Cpu) -\u003E GdbState {\n        GdbState {\n            cpu: RefCell::new(cpu),\n        }\n    }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_26":{"id":"a3ea0bd7e01b_26","__typename":"Paragraph","name":"a7db","text":"impl Handler for GdbState {","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_27":{"id":"a3ea0bd7e01b_27","__typename":"Paragraph","name":"21a0","text":"}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_28":{"id":"a3ea0bd7e01b_28","__typename":"Paragraph","name":"f8ae","text":"Compiling empty trait results in a missing implementation error of functions attached and halt_reason. To fix that error, we need to provide an implementation, which can be as simple as in the example above. However, ProcessType::Attached seems at the moment to be more suitable as attached return value. According to the GDB documentation","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":77,"end":85,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":90,"end":101,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":282,"end":290,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_29":{"id":"a3ea0bd7e01b_29","__typename":"Paragraph","name":"59b5","text":"“This query is used, for example, to know whether the remote process should be detached or killed when a GDB session is ended with the quit command.”","type":"BQ","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":135,"end":139,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_30":{"id":"a3ea0bd7e01b_30","__typename":"Paragraph","name":"5f14","text":"and killing a remote process sounds like another thing that we’d need to implement.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_31":{"id":"a3ea0bd7e01b_31","__typename":"Paragraph","name":"00bd","text":"impl Handler for GdbState {\n    fn attached(&self, _pid: Option\u003Cu64\u003E) -\u003E Result\u003CProcessType, Error\u003E {\n        Ok(ProcessType::Attached)\n    }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_32":{"id":"a3ea0bd7e01b_32","__typename":"Paragraph","name":"5846","text":"    fn halt_reason(&self) -\u003E Result\u003CStopReason, Error\u003E {\n        Ok(StopReason::Exited(23, 0))\n    }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_33":{"id":"a3ea0bd7e01b_33","__typename":"Paragraph","name":"b7af","text":"Now our project compiles successfully. It means we can continue onto setting up a connection with GDB. We need to set up a TCP connection and invoke process_packets_from function to start debugging.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":149,"end":170,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_34":{"id":"a3ea0bd7e01b_34","__typename":"Paragraph","name":"78f4","text":"use std::net::TcpListener;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_35":{"id":"a3ea0bd7e01b_35","__typename":"Paragraph","name":"2ed4","text":"...","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_36":{"id":"a3ea0bd7e01b_36","__typename":"Paragraph","name":"034c","text":"    let mut cpu = Cpu::new(path.expect(\"filepath error\"));","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_37":{"id":"a3ea0bd7e01b_37","__typename":"Paragraph","name":"1b65","text":"    let listener = TcpListener::bind(\"0.0.0.0:2424\").unwrap();\n    println!(\"Listening on port 2424\");","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_38":{"id":"a3ea0bd7e01b_38","__typename":"Paragraph","name":"5e90","text":"    let debugger = GdbState::new(cpu);\n    if let Ok((stream, _addr)) = listener.accept() {\n        println!(\"Got connection\");\n        process_packets_from(stream.try_clone().unwrap(), stream, debugger);\n    }\n    println!(\"Connection closed\");\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_39":{"id":"a3ea0bd7e01b_39","__typename":"Paragraph","name":"1369","text":"Now if we run the program, it will wait for connection from GDB. During testing, I recommend adding these commands to .gdbinit file in your home directory to avoid typing them after starting GDB:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_40":{"id":"a3ea0bd7e01b_40","__typename":"Paragraph","name":"8901","text":"# set remote architecture to little endian MIPS\nset arch mips\nset endian little\n# causes GDB to display sent and received commands\nset debug remote 1\n# try to connect automatically at startup\ntarget extended-remote :2424","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_41":{"id":"a3ea0bd7e01b_41","__typename":"Paragraph","name":"3fdd","text":"After running gdb-multiarch, we can see that it successfully connected to our emulator:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_42":{"id":"a3ea0bd7e01b_42","__typename":"Paragraph","name":"3c07","text":"The target architecture is assumed to be mips\nThe target is assumed to be little endian\n\u002F\u002F ... omitted debug info\n(gdb)","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_43":{"id":"a3ea0bd7e01b_43","__typename":"Paragraph","name":"4215","text":"Starting the program using run command unfortunately produces an error:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_44":{"id":"a3ea0bd7e01b_44","__typename":"Paragraph","name":"5d21","text":"(gdb) run\nStarting program:  \nSending packet: $QDisableRandomization:1#cf...Packet received: \nTarget does not support QDisableRandomization.\n(gdb)","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_45":{"id":"a3ea0bd7e01b_45","__typename":"Paragraph","name":"0cb4","text":"Turns out that by default rust-gdb-remote-protocol implementation advertises support for QDisableRandomization command and, at the time of writing, it cannot be turned off (as documented in https:\u002F\u002Fgithub.com\u002Fluser\u002Frust-gdb-remote-protocol\u002Fblob\u002Ff20055bd1b9053a2e16ded021cbe5331834404d8\u002Fsrc\u002Flib.rs#L815).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":190,"end":301,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fluser\u002Frust-gdb-remote-protocol\u002Fblob\u002Ff20055bd1b9053a2e16ded021cbe5331834404d8\u002Fsrc\u002Flib.rs#L815","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_46":{"id":"a3ea0bd7e01b_46","__typename":"Paragraph","name":"360e","text":"Out of necessity , we implement set_address_randomization method:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":32,"end":57,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_47":{"id":"a3ea0bd7e01b_47","__typename":"Paragraph","name":"3c17","text":"impl Handler for GdbState {","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_48":{"id":"a3ea0bd7e01b_48","__typename":"Paragraph","name":"8413","text":"\u002F\u002F ...\n \n   fn set_address_randomization(&self, _enable: bool) -\u003E Result\u003C(), Error\u003E {\n        Ok(())\n    }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_49":{"id":"a3ea0bd7e01b_49","__typename":"Paragraph","name":"0684","text":"Now GDB gets a little further before failing to receive a response for g packet and timing out:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":71,"end":72,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_50":{"id":"a3ea0bd7e01b_50","__typename":"Paragraph","name":"e13b","text":"(gdb) run\nStarting program:  \n\u002F\u002F ... omitted\nSending packet: $g#67...Packet received: \nBad register packet; fetching a new packet\nPacket received: \nBad register packet; fetching a new packet\nTimed out.","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_51":{"id":"a3ea0bd7e01b_51","__typename":"Paragraph","name":"e8d7","text":"According to GDB remote protocol documentation, g stands for read general registers. Implementing this functionality can seem cryptic at first, and neither before-mentioned documentation, nor the library source fully resolved my confusion. At this point I turned to the other library I mentioned at the beginning, gdbstub. In its source code I found an important clue — order of returned registers should be the same as specified in GDB internal target.xml file for relevant architecture. Closest to what we are looking for seems to be mips-cpu.xml file. It defines register order and their indices:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":13,"end":46,"type":"A","href":"https:\u002F\u002Fsourceware.org\u002Fgdb\u002Fcurrent\u002Fonlinedocs\u002Fgdb\u002FRemote-Protocol.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":536,"end":548,"type":"A","href":"https:\u002F\u002Fsourceware.org\u002Fgit\u002F?p=binutils-gdb.git;a=blob;f=gdb\u002Ffeatures\u002Fmips-cpu.xml;h=eff0ca62638893916c703006107b7794167599cd;hb=HEAD","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":48,"end":49,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":61,"end":85,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":446,"end":456,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_52":{"id":"a3ea0bd7e01b_52","__typename":"Paragraph","name":"5bab","text":"  \u003Creg name=\"r0\" bitsize=\"32\" regnum=\"0\"\u002F\u003E\n  \u003Creg name=\"r1\" bitsize=\"32\"\u002F\u003E\n  \u003C!-- omitted the rest of \"rXX\" registers --\u003E\n\n  \u003Creg name=\"lo\" bitsize=\"32\" regnum=\"33\"\u002F\u003E\n  \u003Creg name=\"hi\" bitsize=\"32\" regnum=\"34\"\u002F\u003E\n  \u003Creg name=\"pc\" bitsize=\"32\" regnum=\"37\"\u002F\u003E","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_53":{"id":"a3ea0bd7e01b_53","__typename":"Paragraph","name":"3388","text":"Aside from the list above, GDB also expects registers defined in mips-cp0.xml file — SR, BADVADDR and CAUSE.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_54":{"id":"a3ea0bd7e01b_54","__typename":"Paragraph","name":"bbd3","text":"Implementation of read_general_registers method should return them in contiguous vector of bytes, in order specified by regnum index, and each value in target endianness (in this case little-endian):","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":18,"end":40,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":120,"end":126,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_55":{"id":"a3ea0bd7e01b_55","__typename":"Paragraph","name":"54ca","text":"    fn read_general_registers(&self) -\u003E Result\u003CVec\u003Cu8\u003E, Error\u003E {\n        let mut result = Vec::new();\n        for reg in self.cpu.borrow().regs().iter() {\n            result.extend_from_slice(&reg.to_le_bytes());\n        }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_56":{"id":"a3ea0bd7e01b_56","__typename":"Paragraph","name":"7a47","text":"        result.extend_from_slice(\n            &self.cpu.borrow().sr().to_le_bytes());\n        result.extend_from_slice(\n            &self.cpu.borrow().lo().to_le_bytes());\n        result.extend_from_slice(\n            &self.cpu.borrow().hi().to_le_bytes());\n        result.extend_from_slice(\n            &self.cpu.borrow().badvaddr().to_le_bytes());\n        result.extend_from_slice(\n            &self.cpu.borrow().cause().to_le_bytes());\n        result.extend_from_slice(\n            &self.cpu.borrow().pc().to_le_bytes());","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_57":{"id":"a3ea0bd7e01b_57","__typename":"Paragraph","name":"a87b","text":"        Ok(result)\n    }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_58":{"id":"a3ea0bd7e01b_58","__typename":"Paragraph","name":"50e8","text":"We are getting closer. GDB receives the data about registers and proceeds further. It complains about lack of fetch- and set-register packets, which we will implement later, and finally hangs after sending a c packet, standing for “continue”. However, this functionality is considered to be deprecated and we should implement support for vCont packet instead. As vCont can stand for multiple commands, our program should specify the ones that are supported in query_supported_vcont method. For unknown reasons, GDB will accept the response only if both Continue and ContinueWithSignal features are supported. Now, first implementation of vcont method, handling various commands, is rather straightforward. Optional ThreadId in request can be ignored for now.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":338,"end":350,"type":"A","href":"https:\u002F\u002Fsourceware.org\u002Fgdb\u002Fcurrent\u002Fonlinedocs\u002Fgdb\u002FPackets.html#vCont-packet","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":208,"end":209,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":338,"end":343,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":460,"end":481,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":553,"end":561,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":566,"end":584,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":638,"end":643,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":715,"end":723,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_59":{"id":"a3ea0bd7e01b_59","__typename":"Paragraph","name":"02ca","text":"use std::borrow::Cow;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_60":{"id":"a3ea0bd7e01b_60","__typename":"Paragraph","name":"939d","text":"impl Handler for GdbState {\n\u002F\u002F ...","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_61":{"id":"a3ea0bd7e01b_61","__typename":"Paragraph","name":"512a","text":"    fn query_supported_vcont(&self) -\u003E Result\u003CCow\u003C'static, [VContFeature]\u003E, Error\u003E {\n        Ok(Cow::from(\n            &[\n                VContFeature::Continue,\n                VContFeature::ContinueWithSignal,\n            ][..]\n         ))\n    }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_62":{"id":"a3ea0bd7e01b_62","__typename":"Paragraph","name":"bc07","text":"    fn vcont(&self, request: Vec\u003C(VCont, Option\u003CThreadId\u003E)\u003E) -\u003E Result\u003CStopReason, Error\u003E {\n        let req = request.first().unwrap();\n        match req.0 {\n            VCont::Continue =\u003E {\n                loop {\n                    self.cpu.borrow_mut().run_next_instruction();\n                }\n            },\n            _ =\u003E Err(Error::Unimplemented)\n        }\n    }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_63":{"id":"a3ea0bd7e01b_63","__typename":"Paragraph","name":"a309","text":"After issuing run command in GDB, our program runs and… cannot ever stop. As interrupts, or any other mechanism of pausing execution has not been implemented in the CPU interpreter, the loop in vcont is truly infinite. One of the solutions to this problem are breakpoints.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":14,"end":17,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":194,"end":199,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_64":{"id":"a3ea0bd7e01b_64","__typename":"Paragraph","name":"7055","text":"Breakpoints support","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_65":{"id":"a3ea0bd7e01b_65","__typename":"Paragraph","name":"3d1c","text":"With breakpoints, we can stop execution of a program if a certain condition occurs. Supported in GDB are software and hardware breakpoints on instructions, as well as read\u002Fwrite\u002Faccess breakpoints on memory operations. We’ll start with plain software breakpoints.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_66":{"id":"a3ea0bd7e01b_66","__typename":"Paragraph","name":"5473","text":"First of all, we need a suitable place to store them — a new field in previously defined GdbState struct.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_67":{"id":"a3ea0bd7e01b_67","__typename":"Paragraph","name":"7413","text":"pub struct GdbState {\n    pub cpu: RefCell\u003CCpu\u003E,\n    pub breakpoints: RefCell\u003CVec\u003Cu32\u003E\u003E\n}\nimpl GdbState {\n    pub fn new(cpu: Cpu) -\u003E GdbState {\n        GdbState {\n            cpu: RefCell::new(cpu),\n            breakpoints: RefCell::new(vec![]),\n        }\n    }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_68":{"id":"a3ea0bd7e01b_68","__typename":"Paragraph","name":"d1c9","text":"Vector breakpoints will store addresses where execution should be paused. We need to implement support for enabling and disabling them:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":7,"end":18,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_69":{"id":"a3ea0bd7e01b_69","__typename":"Paragraph","name":"0ffe","text":"    fn insert_software_breakpoint(&self, breakpoint: Breakpoint) -\u003E Result\u003C(), Error\u003E {\n        let addr = breakpoint.addr as u32;\n        if !self.breakpoints.borrow_mut().contains(&addr) {\n            self.breakpoints.borrow_mut().push(addr);\n        }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_70":{"id":"a3ea0bd7e01b_70","__typename":"Paragraph","name":"fe78","text":"        Ok(())\n    }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_71":{"id":"a3ea0bd7e01b_71","__typename":"Paragraph","name":"56e8","text":"    fn remove_software_breakpoint(&self, breakpoint: Breakpoint) -\u003E Result\u003C(), Error\u003E {\n        self.breakpoints.borrow_mut().retain(|addr| *addr != (breakpoint.addr as u32));","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_72":{"id":"a3ea0bd7e01b_72","__typename":"Paragraph","name":"cba1","text":"        Ok(())\n    }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_73":{"id":"a3ea0bd7e01b_73","__typename":"Paragraph","name":"4c30","text":"The last piece of the puzzle left is actually checking if the interpreter hits a breakpoint during code execution:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_74":{"id":"a3ea0bd7e01b_74","__typename":"Paragraph","name":"7b93","text":"\u002F\u002F in fn vcont()\n    VCont::Continue =\u003E {\n        let mut cpu_ref = self.cpu.borrow_mut();\n        cpu_ref.run_next_instruction();\n        while !self.breakpoints.borrow().contains(&cpu_ref.pc()) {\n            cpu_ref.run_next_instruction();\n        }\n        Ok(StopReason::Signal(5))\n    },","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_75":{"id":"a3ea0bd7e01b_75","__typename":"Paragraph","name":"47b8","text":"Signal 5 is SIGTRAP, the same as a real debugged system would return.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_76":{"id":"a3ea0bd7e01b_76","__typename":"Paragraph","name":"d7c3","text":"Equipped with breakpoints, we can start proper debugging. Once again start GDB, set breakpoint two instructions ahead of PC starting value using b *0xbfc00008 command, type run and hope for the best. Unfortunately, this time we encounter a failed assert in GDB due to unimplemented support of reading memory (packet m with address).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":145,"end":159,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":173,"end":176,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":316,"end":317,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_77":{"id":"a3ea0bd7e01b_77","__typename":"Paragraph","name":"e9ee","text":"(gdb) run\nStarting program:  \n\u002F\u002F ...\nSending packet: $p25#d7...Packet received: \nPacket p (fetch-register) is NOT supported\nSending packet: $mbfc00004,4#bb...Packet received: \n..\u002F..\u002Fgdb\u002Fframe-unwind.c:168: internal-error: frame_unwind_find_by_frame failed","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_78":{"id":"a3ea0bd7e01b_78","__typename":"Paragraph","name":"7272","text":"Our CPU interpreter provides a method for reading emulated memory, so implementing support for reading arbitrary memory region is simple (incidentally, it enables support for the x command in GDB):","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":179,"end":180,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_79":{"id":"a3ea0bd7e01b_79","__typename":"Paragraph","name":"60b2","text":"    fn read_memory(&self, region: MemoryRegion) -\u003E Result\u003CVec\u003Cu8\u003E, Error\u003E {\n        let mut result = vec![];\n        for i in 0..region.length {\n            result.push(self.cpu.borrow().load((region.address + i) as u32));\n        }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_80":{"id":"a3ea0bd7e01b_80","__typename":"Paragraph","name":"c724","text":"        Ok(result)\n    }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_81":{"id":"a3ea0bd7e01b_81","__typename":"Paragraph","name":"e0e3","text":"At last, our implementation arrived at the point where we can start the emulated program, set and remove breakpoints, continue execution, examine registers and read arbitrary memory locations. If you want to take a look at the complete code, checkout final branch of the repository.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":251,"end":256,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_82":{"id":"a3ea0bd7e01b_82","__typename":"Paragraph","name":"c46b","text":"I hope this article can be useful to the dev community and explain how to implement this functionality in a real world setting.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_83":{"id":"a3ea0bd7e01b_83","__typename":"Paragraph","name":"9822","text":"GDB is an enormously featureful tool, and we’ve only scratched the surface here. There is still a lot of helpful commands to implement like reading and writing specific registers,writing memory, breakpoints on memory access, and others. However, looking at the length of this article, these need to wait for the next part.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_84":{"id":"a3ea0bd7e01b_84","__typename":"Paragraph","name":"973b","text":"Epilogue: how to create your own test programs","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_85":{"id":"a3ea0bd7e01b_85","__typename":"Paragraph","name":"0891","text":"If you want to use your own programs as test data for the emulator, here’s how you could compile them from C (or possibly other languages supported by GCC):","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_86":{"id":"a3ea0bd7e01b_86","__typename":"Paragraph","name":"0ac3","text":"install mipsel-unknown-gnu toolchain, including gcc and binutils","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":8,"end":26,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":48,"end":51,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":56,"end":64,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_87":{"id":"a3ea0bd7e01b_87","__typename":"Paragraph","name":"5953","text":"create code in a file, e.g. hello.c","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_88":{"id":"a3ea0bd7e01b_88","__typename":"Paragraph","name":"9c65","text":"void __start(void) {\n    int a = 3;\n    int b = 5;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_89":{"id":"a3ea0bd7e01b_89","__typename":"Paragraph","name":"a6de","text":"    int c = a + b;\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_90":{"id":"a3ea0bd7e01b_90","__typename":"Paragraph","name":"bad4","text":"compile using GCC for MIPS, specifying no standard library support, proper architecture and linker option to place executable code at specific address in memory","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_91":{"id":"a3ea0bd7e01b_91","__typename":"Paragraph","name":"3bb1","text":"mipsel-linux-gnu-gcc -nostdlib -march=r3000 -Wl,--section-start=.text=0xbfc00000 hello.c","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_92":{"id":"a3ea0bd7e01b_92","__typename":"Paragraph","name":"ea95","text":"extract raw binary code from resulting a.out ELF executable","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":39,"end":44,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_93":{"id":"a3ea0bd7e01b_93","__typename":"Paragraph","name":"a2cb","text":"mipsel-linux-gnu-objcopy -O binary -j .text a.out a.bin","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:a3ea0bd7e01b_94":{"id":"a3ea0bd7e01b_94","__typename":"Paragraph","name":"a809","text":"a.bin file is ready for debugging!","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"ImageMetadata:1*b6kdm_3iEOGKipw1GYJtgA.jpeg":{"id":"1*b6kdm_3iEOGKipw1GYJtgA.jpeg","__typename":"ImageMetadata","originalHeight":1516,"originalWidth":2275,"focusPercentX":null,"focusPercentY":null,"alt":null},"Tag:tech":{"id":"tech","__typename":"Tag","displayTitle":"Tech"},"Tag:emulation":{"id":"emulation","__typename":"Tag","displayTitle":"Emulation"},"Tag:rust":{"id":"rust","__typename":"Tag","displayTitle":"Rust"},"Tag:gdb":{"id":"gdb","__typename":"Tag","displayTitle":"Gdb"},"Collection:f5af2b715248":{"id":"f5af2b715248","__typename":"Collection","name":"The Startup","slug":"swlh","domain":null},"User:5581405b34d":{"id":"5581405b34d","__typename":"User","name":"Kunal Desai","username":"kunaljaydesai","bio":"Software Engineer","isFollowing":null,"imageId":"1*z1AL-STXez5xEAY391nfGg.jpeg","mediumMemberAt":1590344878000,"hasDomain":false},"Post:8709e2cc450e":{"id":"8709e2cc450e","__typename":"Post","title":"Understanding Linking","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fswlh\u002Funderstanding-linking-8709e2cc450e","previewImage":{"__ref":"ImageMetadata:"},"isPublished":true,"firstPublishedAt":1590290255683,"readingTime":2.0679245283018868,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:f5af2b715248"},"creator":{"__ref":"User:5581405b34d"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*4Kb1XcyAinllJ1Is5tCbmw.jpeg":{"id":"1*4Kb1XcyAinllJ1Is5tCbmw.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:d0b105d10f0a":{"id":"d0b105d10f0a","__typename":"Collection","name":"Better Programming","slug":"better-programming","domain":null},"User:d2ef7f5ede53":{"id":"d2ef7f5ede53","__typename":"User","name":"Jonathan Hsu","username":"jhsu98","bio":"Top writer with 1M+ views. Follow me at medium.com\u002Fcode-85 and medium.com\u002Fgrowth-85","isFollowing":null,"imageId":"2*_KGzadiy9s83D4vzhsCyyg.png","mediumMemberAt":1573571657000,"hasDomain":true},"Post:8753ca2ac5ca":{"id":"8753ca2ac5ca","__typename":"Post","title":"How To Define Function Parameters As Positional, Keyword, or Both in Python","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fbetter-programming\u002Fhow-to-define-function-parameters-as-positional-keyword-or-both-in-python-8753ca2ac5ca","previewImage":{"__ref":"ImageMetadata:1*4Kb1XcyAinllJ1Is5tCbmw.jpeg"},"isPublished":true,"firstPublishedAt":1573521480655,"readingTime":2.358490566037736,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:d0b105d10f0a"},"creator":{"__ref":"User:d2ef7f5ede53"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:0*iYhdKlWQXsjHhj0b.jpg":{"id":"0*iYhdKlWQXsjHhj0b.jpg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:86fb29d7cc6a":{"id":"86fb29d7cc6a","__typename":"Collection","name":"Flutter Community","slug":"flutter-community","domain":null},"User:b57c3fb23ee":{"id":"b57c3fb23ee","__typename":"User","name":"Greger Teigre Wedel","username":"gregertw","bio":"","isFollowing":null,"imageId":"0*_CNDEA9iOB3WZf4H.jpg","mediumMemberAt":1558880229082,"hasDomain":false},"Post:878801cb1d90":{"id":"878801cb1d90","__typename":"Post","title":"A Production-Quality Flutter Starter App","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fflutter-community\u002Fa-production-quality-flutter-starter-app-878801cb1d90","previewImage":{"__ref":"ImageMetadata:0*iYhdKlWQXsjHhj0b.jpg"},"isPublished":true,"firstPublishedAt":1563436685000,"readingTime":9.458490566037735,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:86fb29d7cc6a"},"creator":{"__ref":"User:b57c3fb23ee"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:0*_zy7FMa6fKGyWUPo":{"id":"0*_zy7FMa6fKGyWUPo","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:98346230743":{"id":"98346230743","__typename":"User","name":"Ethan Roberts","username":"ethanr2000","bio":"Software Engineer at the Dyson Institute","isFollowing":null,"imageId":"1*IEVbRgjOSGMjcY7EoWEylA.png","mediumMemberAt":1602318973694,"hasDomain":false},"Post:69581d2e3a7f":{"id":"69581d2e3a7f","__typename":"Post","title":"How to Set up a Facebook Messenger Bot to Deep Fry Images on Your Group Chats","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fhow-to-set-up-a-facebook-messenger-bot-to-deep-fry-images-on-your-group-chats-69581d2e3a7f","previewImage":{"__ref":"ImageMetadata:0*_zy7FMa6fKGyWUPo"},"isPublished":true,"firstPublishedAt":1605291329515,"readingTime":6.059433962264151,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:f5af2b715248"},"creator":{"__ref":"User:98346230743"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*sP4aFTt7EnypjIQ9mAXdYw.jpeg":{"id":"1*sP4aFTt7EnypjIQ9mAXdYw.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:60b3e985f39b":{"id":"60b3e985f39b","__typename":"Collection","name":"Sound and Design","slug":"sound-and-design","domain":null},"User:3ccadc5cca7b":{"id":"3ccadc5cca7b","__typename":"User","name":"Michael 'Myk Eff' Filimowicz, PhD","username":"michael-filimowicz","bio":"VJLoopZone.com","isFollowing":null,"imageId":"1*-CCUIpEx9_-01PU-Ke8A8w.png","mediumMemberAt":0,"hasDomain":true},"Post:695759dd118e":{"id":"695759dd118e","__typename":"Post","title":"Voltage Control Visualization in VCV Rack","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fsound-and-design\u002Fvoltage-control-visualization-in-vcv-rack-695759dd118e","previewImage":{"__ref":"ImageMetadata:1*sP4aFTt7EnypjIQ9mAXdYw.jpeg"},"isPublished":true,"firstPublishedAt":1606015681318,"readingTime":3.4663522012578616,"statusForCollection":"APPROVED","isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":{"__ref":"Collection:60b3e985f39b"},"creator":{"__ref":"User:3ccadc5cca7b"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:0*cpB0qdgHSlXlYzZ1":{"id":"0*cpB0qdgHSlXlYzZ1","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:47a6bae243a3":{"id":"47a6bae243a3","__typename":"User","name":"Abhishek Gupta","username":"abhishek1987","bio":"Currently working with Kafka, Databases, Azure, Kubernetes and related open source projects | Confluent Community Catalyst (for Kafka)","isFollowing":null,"imageId":"1*ZdSjzBPYoAeJU5cB5f2_xA.jpeg","mediumMemberAt":0,"hasDomain":true},"Post:69041dd38279":{"id":"69041dd38279","__typename":"Post","title":"Tutorial: Getting Started With Rust and Redis","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fswlh\u002Ftutorial-getting-started-with-rust-and-redis-69041dd38279","previewImage":{"__ref":"ImageMetadata:0*cpB0qdgHSlXlYzZ1"},"isPublished":true,"firstPublishedAt":1611126713874,"readingTime":6.758490566037736,"statusForCollection":"APPROVED","isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":{"__ref":"Collection:f5af2b715248"},"creator":{"__ref":"User:47a6bae243a3"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*RK3fO3kISM_MSaDcueVIiw.png":{"id":"1*RK3fO3kISM_MSaDcueVIiw.png","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:81b7a04fbca0":{"id":"81b7a04fbca0","__typename":"User","name":"Dan Hales","username":"danhalesprogramming","bio":"Data Scientist, Math Enthusiast, Programmer and General Nerd. www.linkedin.com\u002Fin\u002Fdanhalesprogramming","isFollowing":null,"imageId":"1*w4rsHlcrX1DCK6RbAEYogw.png","mediumMemberAt":1583421514000,"hasDomain":true},"Post:698977f1b5d0":{"id":"698977f1b5d0","__typename":"Post","title":"A Python-style Set in simple Java","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fa-python-style-set-in-simple-java-698977f1b5d0","previewImage":{"__ref":"ImageMetadata:1*RK3fO3kISM_MSaDcueVIiw.png"},"isPublished":true,"firstPublishedAt":1591571737798,"readingTime":8.933333333333334,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:f5af2b715248"},"creator":{"__ref":"User:81b7a04fbca0"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*af8fg-VFtoOSvQyodGtbXg.png":{"id":"1*af8fg-VFtoOSvQyodGtbXg.png","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:8730a1d6ff93":{"id":"8730a1d6ff93","__typename":"User","name":"William Mclane","username":"wmclane","bio":"Messaging Evangelist, with a background in Computer Science and Communications working on messaging and streaming communication for over 20 years.","isFollowing":null,"imageId":"1*iWDScq3-_phSRQJBt6N_5w.jpeg","mediumMemberAt":0,"hasDomain":true},"Post:697bc5089c64":{"id":"697bc5089c64","__typename":"Post","title":"How to optimize MirrorMaker2 for High Performance Apache Kafka Replication","mediumUrl":"https:\u002F\u002Fwmclane.medium.com\u002Fhow-to-optimize-mirrormaker2-for-high-performance-apache-kafka-replication-697bc5089c64","previewImage":{"__ref":"ImageMetadata:1*af8fg-VFtoOSvQyodGtbXg.png"},"isPublished":true,"firstPublishedAt":1606849384440,"readingTime":6.338050314465409,"statusForCollection":null,"isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":null,"creator":{"__ref":"User:8730a1d6ff93"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"User:1691a27426d6":{"id":"1691a27426d6","__typename":"User","name":"Bartek Kowalik"},"Collaborator:ef41ff13f301-1691a27426d6":{"id":"ef41ff13f301-1691a27426d6","__typename":"Collaborator","user":{"__ref":"User:1691a27426d6"},"state":"visible"},"User:7c9b20d0372c":{"id":"7c9b20d0372c","__typename":"User","name":"Michał Pociecha"},"Collaborator:ef41ff13f301-7c9b20d0372c":{"id":"ef41ff13f301-7c9b20d0372c","__typename":"Collaborator","user":{"__ref":"User:7c9b20d0372c"},"state":"visible"},"User:3c6c6c8dd745":{"id":"3c6c6c8dd745","__typename":"User","name":"Karolina Jaworek"},"Collaborator:ef41ff13f301-3c6c6c8dd745":{"id":"ef41ff13f301-3c6c6c8dd745","__typename":"Collaborator","user":{"__ref":"User:3c6c6c8dd745"},"state":"visible"},"Post:ef41ff13f301":{"id":"ef41ff13f301","__typename":"Post","canonicalUrl":"","collection":{"__ref":"Collection:3afbc2931076"},"content({\"postMeteringOptions\":{}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","isCacheableContent":false,"bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:a3ea0bd7e01b_0"},{"__ref":"Paragraph:a3ea0bd7e01b_1"},{"__ref":"Paragraph:a3ea0bd7e01b_2"},{"__ref":"Paragraph:a3ea0bd7e01b_3"},{"__ref":"Paragraph:a3ea0bd7e01b_4"},{"__ref":"Paragraph:a3ea0bd7e01b_5"},{"__ref":"Paragraph:a3ea0bd7e01b_6"},{"__ref":"Paragraph:a3ea0bd7e01b_7"},{"__ref":"Paragraph:a3ea0bd7e01b_8"},{"__ref":"Paragraph:a3ea0bd7e01b_9"},{"__ref":"Paragraph:a3ea0bd7e01b_10"},{"__ref":"Paragraph:a3ea0bd7e01b_11"},{"__ref":"Paragraph:a3ea0bd7e01b_12"},{"__ref":"Paragraph:a3ea0bd7e01b_13"},{"__ref":"Paragraph:a3ea0bd7e01b_14"},{"__ref":"Paragraph:a3ea0bd7e01b_15"},{"__ref":"Paragraph:a3ea0bd7e01b_16"},{"__ref":"Paragraph:a3ea0bd7e01b_17"},{"__ref":"Paragraph:a3ea0bd7e01b_18"},{"__ref":"Paragraph:a3ea0bd7e01b_19"},{"__ref":"Paragraph:a3ea0bd7e01b_20"},{"__ref":"Paragraph:a3ea0bd7e01b_21"},{"__ref":"Paragraph:a3ea0bd7e01b_22"},{"__ref":"Paragraph:a3ea0bd7e01b_23"},{"__ref":"Paragraph:a3ea0bd7e01b_24"},{"__ref":"Paragraph:a3ea0bd7e01b_25"},{"__ref":"Paragraph:a3ea0bd7e01b_26"},{"__ref":"Paragraph:a3ea0bd7e01b_27"},{"__ref":"Paragraph:a3ea0bd7e01b_28"},{"__ref":"Paragraph:a3ea0bd7e01b_29"},{"__ref":"Paragraph:a3ea0bd7e01b_30"},{"__ref":"Paragraph:a3ea0bd7e01b_31"},{"__ref":"Paragraph:a3ea0bd7e01b_32"},{"__ref":"Paragraph:a3ea0bd7e01b_33"},{"__ref":"Paragraph:a3ea0bd7e01b_34"},{"__ref":"Paragraph:a3ea0bd7e01b_35"},{"__ref":"Paragraph:a3ea0bd7e01b_36"},{"__ref":"Paragraph:a3ea0bd7e01b_37"},{"__ref":"Paragraph:a3ea0bd7e01b_38"},{"__ref":"Paragraph:a3ea0bd7e01b_39"},{"__ref":"Paragraph:a3ea0bd7e01b_40"},{"__ref":"Paragraph:a3ea0bd7e01b_41"},{"__ref":"Paragraph:a3ea0bd7e01b_42"},{"__ref":"Paragraph:a3ea0bd7e01b_43"},{"__ref":"Paragraph:a3ea0bd7e01b_44"},{"__ref":"Paragraph:a3ea0bd7e01b_45"},{"__ref":"Paragraph:a3ea0bd7e01b_46"},{"__ref":"Paragraph:a3ea0bd7e01b_47"},{"__ref":"Paragraph:a3ea0bd7e01b_48"},{"__ref":"Paragraph:a3ea0bd7e01b_49"},{"__ref":"Paragraph:a3ea0bd7e01b_50"},{"__ref":"Paragraph:a3ea0bd7e01b_51"},{"__ref":"Paragraph:a3ea0bd7e01b_52"},{"__ref":"Paragraph:a3ea0bd7e01b_53"},{"__ref":"Paragraph:a3ea0bd7e01b_54"},{"__ref":"Paragraph:a3ea0bd7e01b_55"},{"__ref":"Paragraph:a3ea0bd7e01b_56"},{"__ref":"Paragraph:a3ea0bd7e01b_57"},{"__ref":"Paragraph:a3ea0bd7e01b_58"},{"__ref":"Paragraph:a3ea0bd7e01b_59"},{"__ref":"Paragraph:a3ea0bd7e01b_60"},{"__ref":"Paragraph:a3ea0bd7e01b_61"},{"__ref":"Paragraph:a3ea0bd7e01b_62"},{"__ref":"Paragraph:a3ea0bd7e01b_63"},{"__ref":"Paragraph:a3ea0bd7e01b_64"},{"__ref":"Paragraph:a3ea0bd7e01b_65"},{"__ref":"Paragraph:a3ea0bd7e01b_66"},{"__ref":"Paragraph:a3ea0bd7e01b_67"},{"__ref":"Paragraph:a3ea0bd7e01b_68"},{"__ref":"Paragraph:a3ea0bd7e01b_69"},{"__ref":"Paragraph:a3ea0bd7e01b_70"},{"__ref":"Paragraph:a3ea0bd7e01b_71"},{"__ref":"Paragraph:a3ea0bd7e01b_72"},{"__ref":"Paragraph:a3ea0bd7e01b_73"},{"__ref":"Paragraph:a3ea0bd7e01b_74"},{"__ref":"Paragraph:a3ea0bd7e01b_75"},{"__ref":"Paragraph:a3ea0bd7e01b_76"},{"__ref":"Paragraph:a3ea0bd7e01b_77"},{"__ref":"Paragraph:a3ea0bd7e01b_78"},{"__ref":"Paragraph:a3ea0bd7e01b_79"},{"__ref":"Paragraph:a3ea0bd7e01b_80"},{"__ref":"Paragraph:a3ea0bd7e01b_81"},{"__ref":"Paragraph:a3ea0bd7e01b_82"},{"__ref":"Paragraph:a3ea0bd7e01b_83"},{"__ref":"Paragraph:a3ea0bd7e01b_84"},{"__ref":"Paragraph:a3ea0bd7e01b_85"},{"__ref":"Paragraph:a3ea0bd7e01b_86"},{"__ref":"Paragraph:a3ea0bd7e01b_87"},{"__ref":"Paragraph:a3ea0bd7e01b_88"},{"__ref":"Paragraph:a3ea0bd7e01b_89"},{"__ref":"Paragraph:a3ea0bd7e01b_90"},{"__ref":"Paragraph:a3ea0bd7e01b_91"},{"__ref":"Paragraph:a3ea0bd7e01b_92"},{"__ref":"Paragraph:a3ea0bd7e01b_93"},{"__ref":"Paragraph:a3ea0bd7e01b_94"}],"sections":[{"__typename":"Section","name":"e3da","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"520c","startIndex":4,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"60e0","startIndex":84,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}},"creator":{"__ref":"User:e0b6179b5b8c"},"customStyleSheet":null,"firstPublishedAt":1588582757079,"isLocked":false,"isPublished":true,"isShortform":false,"layerCake":4,"primaryTopic":null,"title":"Integrating GDB support in an emulator","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fvirtuslab\u002Fintegrating-gdb-support-in-an-emulator-ef41ff13f301","isLimitedState":false,"visibility":"PUBLIC","license":"CC_40_ZERO","allowResponses":true,"newsletterId":"","sequence":null,"tags":[{"__ref":"Tag:tech"},{"__ref":"Tag:emulation"},{"__ref":"Tag:rust"},{"__ref":"Tag:gdb"}],"topics":[{"__typename":"Topic","topicId":"decb52b64abf","name":"Programming","slug":"programming"}],"viewerClapCount":0,"showSubscribeToProfilePromo":false,"showSubscribeToCollectionNewsletterV3Promo":false,"inResponseToPostResult":null,"isNewsletter":false,"socialTitle":"","socialDek":"","metaDescription":"","latestPublishedAt":1588582757079,"readingTime":7.626415094339623,"previewContent":{"__typename":"PreviewContent","subtitle":"Writing an emulator was one of the project ideas that I had in my mind for “sometime in the future”. Turns out, during the mandatory…"},"previewImage":{"__ref":"ImageMetadata:1*b6kdm_3iEOGKipw1GYJtgA.jpeg"},"creatorPartnerProgramEnrollmentStatus":"PERMISSION_DENIED","clapCount":8,"lockedSource":"LOCKED_POST_SOURCE_NONE","isSuspended":false,"pendingCollection":null,"statusForCollection":"APPROVED","pinnedAt":0,"pinnedByCreatorAt":0,"curationEligibleAt":1587048533247,"shareKey":null,"internalLinks({\"paging\":{\"limit\":8}})":{"__typename":"InternalLinksConnection","items":[{"__ref":"Post:8709e2cc450e"},{"__ref":"Post:8753ca2ac5ca"},{"__ref":"Post:878801cb1d90"},{"__ref":"Post:69581d2e3a7f"},{"__ref":"Post:695759dd118e"},{"__ref":"Post:69041dd38279"},{"__ref":"Post:698977f1b5d0"},{"__ref":"Post:697bc5089c64"}]},"collaborators":[{"__ref":"Collaborator:ef41ff13f301-1691a27426d6"},{"__ref":"Collaborator:ef41ff13f301-7c9b20d0372c"},{"__ref":"Collaborator:ef41ff13f301-3c6c6c8dd745"}],"translationSourcePost":null,"inResponseToMediaResource":null,"isDistributionAlertDismissed":true,"audioVersionUrl":"","seoTitle":"","updatedAt":1588587295107,"shortformType":"SHORTFORM_TYPE_LINK","structuredData":"","seoDescription":"","postResponses":{"__typename":"PostResponses","count":0},"latestPublishedVersion":"a3ea0bd7e01b","isPublishToEmail":false,"readingList":"READING_LIST_NONE","voterCount":7,"recommenders":[]}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.a9b1c3ca.js"></script><script src="https://cdn-client.medium.com/lite/static/js/6678.b2d6f316.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.6b24548b.js"></script><script src="https://cdn-client.medium.com/lite/static/js/5573.159bf40f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/instrumentation.5300d181.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.e6757680.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1752.a348f767.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4464.c01c0ad8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8342.6aa0b45e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5699.e60bcdf6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5064.428a44c8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9274.431d8f19.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2846.88308418.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7012.2e56c571.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7993.7703b238.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6839.2f3b0813.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5967.15459cdd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8751.0b0595e4.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6010.e20f82a7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7131.47be50dd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2626.9c3fec4a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9809.2014403c.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9978.da38313d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7106.32df7fe7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1978.c2dd6520.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/587.8fad248d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2514.597d2c66.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2602.6f7e7156.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8018.4e442b4f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1337.e635af22.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3981.7512de21.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/Post.e594ba0e.chunk.js"></script><script>window.main();</script></body></html>